/* #region Teresa tab */
.l-teresa-celestial-tab {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.l-mechanics-container {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
}

/*.l-teresa-mechanic-container {
    min-width: 40rem;
}*/
.l-container-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.l-rm-container {
    margin-right: 14.5rem;
}
.c-teresa-container{
    width: 23.5rem;
    margin: 0.5rem;
    padding: 0.5rem;
    border: var(--var-border-width, 0.1rem) solid var(--color-teresa--base);
    border-radius: var(--var-border-radius, 0.5rem);
    text-shadow: var(--text-shadow);
    box-shadow: 0 0 2rem black inset, 0 0 0 2px var(--color-teresa--base) inset;
    background: linear-gradient(#00000040,#5151ec60),var(--leg-base);
}
.s-base--dark .c-teresa-container{
    background: url(../images/upgrades/teresa.png),linear-gradient(#00000060,#5151ec60), var(--leg-base);
    background-position: center;
}
.c-rm-store {
    width: 6.5rem;
    height: 50rem;
    position: relative;
    border: 0.1rem solid var(--color-teresa--base);
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--color-teresa--base) inset;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: auto;
    background: url(../images/celestials/teresa-bar-empty-light.png);
}
.s-base--dark .c-rm-store {
    background: url(../images/celestials/teresa-bar-empty.png);
}
.c-rm-store-inner {
    width: 100%;
    position: absolute;
    bottom: 0;
    left: 0;
    background: linear-gradient(white 0rem, #ffffff44 0.25rem, transparent 1rem),url(../images/celestials/teresa-bubbles.png),url(../images/celestials/teresa-bar.png);
    animation: 25s a-teresa-bar linear infinite;
    box-shadow: 0 0 0.5rem 0.25rem #00000066 inset;
    border-radius: var(--var-border-radius, 0.4rem);
}
@keyframes a-teresa-bar {
    0%{background-position-y: 0px,0px,0px}
    100%{background-position-y: 0px,-512px,-256px}
}
@keyframes a-teresa-bar-inner {
    0%{background-position-y: 0px,0px}
    100%{background-position-y: -512px,-256px}
}
.c-rm-store-inner--light {
    opacity: 0.5;
    border-top: 1px dashed var(--color-text);
    background: url(../images/celestials/teresa-bubbles.png),url(../images/celestials/teresa-bar.png);
    animation: 25s a-teresa-bar-inner linear infinite;
}

.c-rm-store-label {
    width: 100%;
    color: white;
    margin-top: 1rem;
    padding:0.5rem;
    background: url(../images/upgrades/teresa.png), linear-gradient(#2d2dad,#0d0d3d);
    background-position: center;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    border: var(--var-border-width, 0.1rem) solid #8d8dff;
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem #8d8dff inset;
    border-radius: var(--var-border-radius, 0.5rem);
}

.c-teresa-unlock-description--hover-area {
    display: flex;
    width: 100%;
    height: 3rem;
    position: absolute;
    align-items: center;
}

.c-teresa-unlock-description {
    text-shadow: none;
    width: 14rem;
    font-size: 1rem;
    color: #8d8dff;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    background: url(../images/upgrades/teresa.png), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: #020220;
    --bg-bright: #0d0d3d;
    --border: var(--color-teresa--base);
    border: 0.1rem solid var(--border);
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--border) inset;
    border-radius: var(--var-border-radius, 0.3rem);
}

.c-teresa-unlock-description--unlocked {
    color: #e9e9ff;
    --border: #8d8dff;
    --bg-bright: #2d2dad;
    --bg-dark: #0d0d3d;
}

.c-teresa-milestone-line {
    width: 100%;
    height: 0.1rem;
    font-style: italic;
    border-bottom: dashed var(--color-teresa--base) 0.1rem;
    animation: a-teresa-unfinished-milestone-flash 3s infinite;
    box-shadow: 0 0 0.5rem 0.05rem black;
    color:#000063
}
.s-base--dark .c-teresa-milestone-line {
    text-shadow: -0.1rem -0.1rem black,-0.1rem 0.1rem black,0.1rem -0.1rem black,0.1rem 0.1rem black;
    color:#8d8dff
}
@keyframes a-teresa-unfinished-milestone-flash {
    0% {
        opacity: 0.7;
    }

    20% {
        opacity: 0.7;
    }

    50% {
        opacity: 0.4;
    }

    80% {
        opacity: 0.7;
    }

    100% {
        opacity: 0.7;
    }
}

.c-teresa-milestone-line--unlocked,
.s-base--dark  .c-teresa-milestone-line--unlocked {
    border-color: #8d8dff;
    text-shadow: -0.1rem -0.1rem black,-0.1rem 0.1rem black,0.1rem -0.1rem black,0.1rem 0.1rem black;
    color:white;
    animation: none;
}
.o-teresa-quotes {
    display: inline-block;
    font-size: 1.9rem;
    font-style: italic;
    font-weight: bold;
    margin: 1.5rem;
}

.o-quote-button {
    font-size: 3rem;
    font-weight: bold;
    background: transparent;
    border: none;
    cursor: pointer;
}

.c-teresa-unlock {
    width: 23.5rem;
    color: #e9e9ff;
    background: url(../images/upgrades/teresa.png), linear-gradient(#2d2dad,#0d0d3d);
    background-position: center;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    border: var(--var-border-width, 0.1rem) solid #8d8dff;
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem #8d8dff inset;
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 1rem;
    margin: 0.5rem;
    transition-duration: 0.15s;
    -webkit-user-select: none;
    user-select: none;
}

.c-teresa-run-button {
    padding: 1rem;
    margin: 0.5rem;
    color: var(--color-text);
    text-shadow: var(--text-shadow);
    height: 100%;
    justify-content: center;
    display: flex;
    flex-direction: column;
}

.c-teresa-run-button__icon {
    width: 12rem;
    height: 12rem;
    align-items: center;
    font-size: 7rem;
    font-weight: bold;
    color: var(--color-teresa--base);
    text-shadow: 0.1rem 0.1rem 0.5rem;
    background-color: var(--color-teresa--accent);
    border: var(--var-border-width, 0.4rem) solid var(--color-teresa--base);
    border-radius: 50%;
    margin: 1.5rem auto;
    transition-duration: 0.2s;
    animation: a-teresa-run-button__icon--glow 3s infinite;
}

.c-teresa-run-button__icon:hover {
    color: var(--color-teresa--accent);
    background-color: var(--color-teresa--base);
}

.c-teresa-run-button__icon--running {
    color: var(--color-teresa--accent);
    background-color: var(--color-teresa--base);
    border-color: var(--color-teresa--accent);
    animation: a-teresa-run-button__icon--super-glow 1.2s infinite, a-teresa-run-button__icon--spin 5s infinite;
}

.c-celestial-run-button--clickable {
    cursor: pointer;
}

@keyframes a-teresa-run-button__icon--glow {
    0% {
        text-shadow: 0.1rem 0.1rem 0.3rem;
    }

    50% {
        text-shadow: 0.1rem 0.1rem 0.8rem;
    }

    100% {
        text-shadow: 0.1rem 0.1rem 0.3rem;
    }
}

@keyframes a-teresa-run-button__icon--super-glow {
    0% {
        text-shadow: 0.1rem 0.1rem 0.3rem;
        box-shadow: 0 0 0.3rem var(--color-teresa--base);
    }

    50% {
        text-shadow: 0.1rem 0.1rem 0.9rem;
        box-shadow: 0 0 1rem var(--color-teresa--base);
    }

    100% {
        text-shadow: 0.1rem 0.1rem 0.3rem;
        box-shadow: 0 0 0.3rem var(--color-teresa--base);
    }
}

@keyframes a-teresa-run-button__icon--spin {
    0% {
        transform: rotate(61deg);
    }

    10% {
        transform: rotate(322deg);
    }

    20% {
        transform: rotate(235deg);
    }

    30% {
        transform: rotate(222deg);
    }

    40% {
        transform: rotate(105deg);
    }

    50% {
        transform: rotate(33deg);
    }

    60% {
        transform: rotate(103deg);
    }

    70% {
        transform: rotate(158deg);
    }

    80% {
        transform: rotate(41deg);
    }

    90% {
        transform: rotate(73deg);
    }

    100% {
        transform: rotate(61deg);
    }
}

.c-teresa-shop, .c-teresa-charger {
    display: flex;
    flex-direction: column;
    width: 48rem;
    justify-content: center;
    align-items: center;
    color: var(--color-text);
    height:100%
}
.o-teresa-shop-button {
    font-family: Typewriter, serif;
    font-size: 1rem;
    color: #aaaaaa;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--border) inset;
    border-radius: var(--var-border-radius, 0.5rem);
    margin-bottom: 1rem;
    padding: 1rem;
    transition-duration: 0.15s;
    --bg: url(../images/upgrades/teresa.png);
    --border:gray;
    background-color: var(--color-disabled);
    width: 20rem;
    height: 10rem;
    margin: 1rem;
}
.o-teresa-shop-button:hover{
    --bg-dark: var(--leg-bg-hover);
    color:white;
}
.o-teresa-shop-button--available {
    border: var(--var-border-width, 0.1rem) solid;
    box-shadow: 0 0 1rem inset;
    color: #9797ef;
    --bg-dark: #000033;
    --bg-bright: #000000;
    cursor: pointer;
}

.o-teresa-shop-button--available:hover {
    color: white;
    --bg-dark: var(--color-teresa--base);
    box-shadow: 0 0 1rem white inset;
}

.o-teresa-shop-button--capped {
    color: white;
    background-color: var(--color-teresa--base);
    --bg-bright: #3c3cb1;
    --bg-dark: #131342;
    --border: #8d8dff;
    pointer-events: none;
}
.c-teresa-pour {
    width: 100%;
    font-size: 2rem;
    font-family: cambria;
    font-weight: bold;
    height: 4rem;
    margin:0 0 3rem;
    padding: 0.5rem;
}

.c-teresa-pour--unlock-available {
    animation: a-teresa-pour--unlock-available 3s infinite;
}

@keyframes a-teresa-pour--unlock-available {
    0% {
        box-shadow: 0 0 0.3rem var(--color-teresa--base) inset;
    }

    50% {
        box-shadow: 0 0 1rem var(--color-teresa--base) inset;
    }

    100% {
        box-shadow: 0 0 0.3rem var(--color-teresa--base) inset;
    }
}

.s-base--metro .c-teresa-unlock {
    border-width: 0.1rem;
}

.l-pseudo-charger-grid {
    display: flex;
    flex-direction: row;
}
.l-pseudo-charger__column{
    display: flex;
    overflow: hidden;
    flex-direction: column;
}

.l-charger-button{
    font-family: Typewriter;
    width: 10rem;
    height: 5rem;
    margin: 0.2rem 0.3rem;
    border-radius: var(--var-border-radius, 0.4rem);
    background: linear-gradient(#ffffff88 -100%,transparent 49%, #00000044 50%, transparent),url(../images/upgrades/button-dark.png),linear-gradient(var(--bg-bright),var(--bg-dark));
    background-position: center;
    font-size: 3rem;
    color:white;
    text-shadow:var(--text-shadow);
    --bg-bright: #503816;
    --bg-dark: #8b6227;
    --border: #ffae3f;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--border) inset;
}
.o-charger-button--chargeable{
    border: var(--var-border-width, 0.1rem) solid;
    box-shadow: 0 0 1rem inset;
    color: var(--color-teresa--base);
    --bg-dark: black;
    --bg-bright: #000022;
}
.o-charger-button--chargeable:hover{
    color: white;
    --bg-dark: var(--color-teresa--base);
    box-shadow: 0 0 1rem white inset;
    cursor:pointer
}
.o-charger-button--charged{
    color: #e9e9ff;
    --bg-bright: #4848da;
    --bg-dark: #272758;
    --border: #8d8dff;
}
.c-shop-title{
    width:100%;
    padding: 0.5rem;
    font-size:1.5rem;
}
/* #endregion Teresa tab */
/* #region effarig tab */

.c-effarig-relics {
    font-size: 1.5rem;
    padding: 20px 0;
}

.c-effarig-shop-button {
    display: flex;
    flex-direction: column;
    width: 23rem;
    height:8rem;
    justify-content: center;
    align-items: center;
    font-family: Typewriter;
    font-size: 1.2rem;
    line-height: 1.5;
    color: #aaaaaa;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--border) inset;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    background-position: center;
    --bg: url(../images/upgrades/effarig.png);
    --border:gray;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: .5rem;
    padding: .5rem;
    transition-duration: 0.2s;
}
.c-effarig-shop-button:hover {
    color:white;
    --bg-dark: var(--leg-bg-hover);
}
.c-effarig-shop-button--bought {
    color: white;
    --bg-bright: #ad2d2d;
    --bg-dark: #3d0d0d !important;
    --border: #ff5b5b;
    cursor: default;
}

.c-effarig-shop-button--available {
    border: var(--var-border-width, 0.1rem) solid;
    box-shadow: 0 0 1rem inset;
    color: var(--color-effarig--base);
    --bg-dark: #330000;
    --bg-bright: #000000;
    cursor: pointer;
}

.c-effarig-shop-button--available:hover {
    color: white;
    --bg-dark: var(--color-effarig--base);
}
.l-effarig-run-button {
    display: flex;
    flex-direction: column;
    width: 15rem;
    height: 15rem;
    position: relative;
    justify-content: center;
    align-items: center;
    border-style: none;
    border-radius: 50%;
    margin: 2rem;
}

.c-effarig-run-button {
    text-shadow: none;
    font-size: 10rem;
    font-weight: bold;
    transition-duration: 0.2s;
    -webkit-user-select: none;
    user-select: none;
}

.c-effarig-run-button--not-running {
    z-index: 0;
    color: white;
    background-color: var(--color-effarig--base);
    animation: a-effarig-run-button--not-running-glow 2s ease-in-out infinite alternate;
}

.c-effarig-run-button--not-running:hover {
    color: var(--color-effarig--base);
    background-color: black;
}

@keyframes a-effarig-run-button--not-running-glow {
    from {
        text-shadow: 0 0 1rem black, 0 0 2rem black, 0 0 3rem #cb1a1a, 0 0 4rem #cb1a1a, 0 0 5rem #cb1a1a, 0 0 6rem #cb1a1a, 0 0 7rem #cb1a1a;
        box-shadow: 0 0 1rem black inset, 0 0 0.5rem #cb1a1a, 0 0 1rem #cb1a1a, 0 0 1.5rem #cb1a1a;
    }

    to {
        text-shadow: 0 0 2rem black, 0 0 3rem #bf0404, 0 0 4rem #bf0404, 0 0 5rem #bf0404, 0 0 6rem #bf0404, 0 0 7rem #bf0404, 0 0 8rem #bf0404;
        box-shadow: 0 0 1.5rem black inset, 0 0 0.5rem #bf0404, 0 0 1rem #bf0404, 0 0 1.5rem #bf0404, 0 0 2rem #bf0404;
    }
}

.c-effarig-run-button--running {
    z-index: 0;
    background: black;
    background-image:url(../images/celestials/effarig-button.gif);
    animation: a-effarig-run-button--running-glow 2s infinite alternate, a-effarig-run-button--running-back 5s infinite linear;
}
@keyframes a-effarig-run-button--running-back {
    0%{background-position:128px 128px}
    100%{background-position:0 0}
}
.c-effarig-run-button--running:hover {
    background: #400000;
    background-image:url(../images/celestials/effarig-button.gif);
}

.c-effarig-run-button__inner--running, .c-effarig-run-button__inner--not-running {
    margin-top: -3rem;
}

.c-effarig-run-button__inner--running {
    position: relative;
    -webkit-background-clip: text;
    background-clip: text;
    background-image: url("../images/celestials/effarig_noise.png");
    animation: a-effarig-run-button--running-noise 15s infinite alternate;
    -webkit-text-fill-color: rgba(255, 0, 0, 50%);
}

.c-effarig-run-button__inner--running::after {
    content: attr(button-symbol);
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    background: none;
    animation: a-effarig-run-button__inner--running-glow 2s infinite alternate;
}

@keyframes a-effarig-run-button--running-noise {
    0% {
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    20% {
        background-position: -50px 0;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    22% {
        background-position: 100px -10px;
        -webkit-text-fill-color: rgba(255, 0, 0, 50%);
    }

    24% {
        background-position: 0 -150px;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    50% {
        background-position: -50px 0;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    51% {
        background-position: 100px -10px;
        -webkit-text-fill-color: rgba(255, 0, 0, 50%);
    }

    52% {
        background-position: 0 -150px;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    54% {
        background-position: 50px 0;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    56% {
        background-position: -100px 10px;
        -webkit-text-fill-color: rgba(255, 0, 0, 50%);
    }

    58% {
        background-position: 0 50px;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    90% {
        background-position: 50px 50px;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    91% {
        background-position: 100px -110px;
        -webkit-text-fill-color: rgba(255, 0, 0, 50%);
    }

    92% {
        background-position: 0 70px;
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }

    100% {
        -webkit-text-fill-color: rgba(255, 0, 0, 100%);
    }
}

@keyframes a-effarig-run-button--running-glow {
    from {
        box-shadow: 0 0 0.5rem #c20707 inset, 0 0 1rem #c20707 inset, 0 0 1.5rem #c20707 inset, 0 0 1.5rem #c20707, 0 0 1.5rem #c20707, 0 0 1.5rem #c20707;
    }

    to {
        box-shadow: 0 0 0.5rem #e21717 inset, 0 0 1rem #e21717 inset, 0 0 1.5rem #e21717 inset, 0 0 1.5rem #e21717, 0 0 1.5rem #e21717, 0 0 1.5rem #e21717, 0 0 2rem #e21717 inset, 0 0 2rem #e21717;
    }
}

@keyframes a-effarig-run-button__inner--running-glow {
    from {
        text-shadow: 0 0 0.1rem black ,0 0 0.5rem #a20707, 0 0 1rem #a20707, 0 0 1.5rem #a20707;
    }

    to {
        text-shadow: 0 0 0.5rem black ,0 0 0.5rem #c21717, 0 0 1rem #c21717, 0 0 1.5rem #c21717, 0 0 2rem #c21717;
    }
}

.l-effarig-run-button__bg {
    width: 80%;
    height: 80%;
    position: absolute;
}

.l-effarig-run-button__fg {
    position: relative;
    background-color: rgba(0, 0, 0, 0%);
}
.l-effarig-shop-and-run {
    display: inline-flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
}

.l-effarig-relics,.l-effarig-shop{
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    color: var(--color-text);
    width: 52rem;
    margin: 0.5rem;
    border: var(--var-border-width, 0.1rem) solid var(--color-effarig--base);
    border-radius: var(--var-border-radius, 0.5rem);
    text-shadow: var(--text-shadow);
    box-shadow: 0 0 2rem black inset, 0 0 0 3px var(--color-effarig--base) inset;
    background: linear-gradient(#00000040,#d1373760), var(--leg-base);
    background-position: center;
}
.l-effarig-shop {
    height: 100%;
    justify-content: center;
    margin: .5rem;
    padding: 0.5rem;
    border: 1.2rem solid var(--color-effarig--base);
    border-image: url(../images/frames/base-retro.png) 12 round;
    box-shadow: 0 0 2rem black inset;
}
.l-effarig-run {
    display: inline-flex;
    flex-direction: column;
    width: 52rem;
    align-items: center;
    border: var(--var-border-width, 0.1rem) solid var(--color-effarig--base);
    border-radius: var(--var-border-radius, 0.5rem);
    margin: .5rem;
    padding: 1rem;
    text-shadow: var(--text-shadow);
    color: var(--color-text);
    box-shadow: 0 0 2rem black inset, 0 0 0 3px var(--color-effarig--base) inset;
    background: linear-gradient(#00000040,#d1373760), var(--leg-base);
    background-position: center;
}
.s-base--dark .l-effarig-relics,
.s-base--dark .l-effarig-shop,
.s-base--dark .l-effarig-run{
    background: url(../images/upgrades/effarig.png),linear-gradient(#00000060,#d1373760), var(--leg-base);
    background-position: center;
}
.c-effarig-run-description {
    font-size: larger;
    margin: 0.5rem 0;
}

.l-effarig-tab__reward {
    display: flex;
    flex-direction: column;
    width: 100%;
    align-items: left;
    margin: 0.5rem;
}

.c-effarig-tab__reward-label {
    /* stylelint-disable-next-line unit-allowed-list */
    min-width: 11ch;
    text-align: center;
    border-top: solid 1px;
    border-bottom: solid 1px;
    padding: .2rem;
    border-image: linear-gradient(90deg,transparent,var(--color-effarig--base),transparent) 1;
    background: linear-gradient(90deg,transparent,#d1373760,transparent);
}

.c-effarig-tab__reward-symbol {
    font-weight: bold;
    margin-right: 0.5rem;
}

.l-effarig-tab__reward-descriptions {
    display: inline-flex;
    flex-direction: column;
    align-items: flex-start;
}

.c-effarig-tab__reward-description {
    width:100%;
    text-align: left;
    /*border-bottom: solid 1px;
    border-image: linear-gradient(90deg,transparent,#ffffff80,transparent) 1;*/
}
.c-effarig-tab__reward-description:last-child {
    border-bottom: none;
}
.sortable-drag {
    cursor: grabbing;
}

.s-base--metro .c-effarig-shop-button {
    border-width: 0.1rem;
}

/* #endregion effarig tab */
/* #startregion enslaved tab */
.l-enslaved-celestial-tab {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.l-enslaved-celestial-tab--inner {
    display: flex;
}

.l-enslaved-upgrades-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-left: 1rem;
}

.l-enslaved-run-container {
    display: block;
    margin-top: auto;
    margin-bottom: auto;
}

.l-enslaved-top-container {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: center;
    width: 60rem;
    flex-wrap: wrap;
    color: var(--color-text);
}

.l-enslaved-top-container__half {
    display: flex;
    flex-direction: column;
    width: 24rem;
    align-items: stretch;
    margin: 1rem;
}

.o-enslaved-stored-time, .o-enslaved-gained-infinities {
    min-width: 18rem;
    font-size: 1.6rem;
    padding-bottom: 0.5rem;
}

.o-enslaved-mechanic-button {
    min-width: 18rem;
    min-height: 9rem;
    color:black;
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-enslaved--base),-0.1rem -0.1rem 0.3rem var(--color-enslaved--base);
    font-family: Typewriter;
    background:var(--bg),linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg:url(../images/upgrades/button-light.png);
    background-position: center;
    --bg-bright: #e5c2a4;
    --bg-dark: #cf9f77;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    --border:rgb(160, 118, 82);
    border-radius: var(--var-border-radius, 0.5rem);
    box-shadow: 0 0 .5rem .1rem black inset,0 0 2rem inset rgba(244, 164, 96, 50%);
    margin: 1rem 0.5rem;
    padding: 0.5rem;
    padding-top: 1rem;
    padding-bottom: 1rem;
    transition-duration: 0.2s;
}

.o-enslaved-mechanic-button--clickable {
    cursor: pointer;
}

.o-enslaved-mechanic-button:hover {
    --bg-dark: #ffa337;
}

.o-enslaved-mechanic-button--storing-time {
    --bg-bright:#77441a;
    --bg-dark: #ffa337;
    --border:sandybrown;
    color:white;
    box-shadow: 0 0 1rem black inset,0 0 0 0.2rem var(--border) inset;
    --bg:url(../images/upgrades/nameless.png);
}

.l-enslaved-shop-container {
    display: flex;
    flex-wrap: wrap;
    width: 60rem;
    justify-content: center;
    align-items: center;
    margin: auto;
    margin-top: 1rem;
    margin-bottom: 3rem;
    height: 100%;
}

.o-enslaved-shop-button {
    width: 27.5rem;
    height: 12rem;
    font-size: 1.2rem;
    font-family: Typewriter;
    color: #bbbbbb;
    border-radius: var(--var-border-radius, 0.5rem);
    background:var(--bg),linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg:url(../images/upgrades/nameless_gray.png);
    background-position: center;
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    --border:gray;
    box-shadow: 0 0 1rem black inset,0 0 0 .2rem inset var(--border);
    margin: 1.5rem 0.5rem;
    padding: 1em;
    transition-duration: 0.2s;
}
.o-enslaved-shop-button:hover {
    color: white;
    --bg-dark: var(--leg-bg-hover);
}
.o-enslaved-shop-button--available {
    color: #ffa337;
    --bg-bright: #111111;
    --bg-dark: #533c29;
    box-shadow: 0 0 1rem inset;
    border: 1px solid;
    --border: #ffa337;
    cursor: pointer;
}

.o-enslaved-shop-button--available:hover {
    color: white;
    --bg-dark: #ffa337;
    transition: 0.2s;
}

.o-enslaved-shop-button--bought {
    --bg-bright:#77441a;
    --bg-dark: #ca883c;
    --border:sandybrown;
    color:white;
    pointer-events: none;
}

.c-enslaved-run-button {
    color: var(--color-text);
    text-shadow: var(--text-shadow);
    display: flex;
    flex-direction: column;
    width: 34rem;
    align-items: center;
    font-family: Typewriter;
    font-size: 1.2rem;
    background: none;
    border: var(--var-border-width, 0.1rem) solid ;
    border-radius: var(--var-border-radius, 0.5rem);
    margin-bottom: 3rem;
    padding: 2rem 1rem;
    -webkit-user-select: none;
    user-select: none;
}
.c-enslaved-run-button, .l-enslaved-shop-container, .l-enslaved-top-container {
    border: var(--var-border-width, 0.1rem) solid #cd945c;
    border-radius: var(--var-border-radius, 0.5rem);
    box-shadow: 0 0 2rem black inset, 0 0 0 0.3rem #cd945c inset;
    background: linear-gradient(#00000040,#d1893760), var(--leg-base);
    background-position: center;
    text-shadow: var(--text-shadow);
}
.s-base--dark .c-enslaved-run-button,
.s-base--dark .l-enslaved-shop-container,
.s-base--dark .l-enslaved-top-container{
    background: url(../images/upgrades/nameless.png),linear-gradient(#00000060,#d1893760), var(--leg-base);
    background-position: center;
}
.c-enslaved-run-button__title {
    font-size: larger;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.c-enslaved-run-button__icon {
    display: flex;
    overflow: hidden;
    flex-direction: column;
    width: 16rem;
    height: 16rem;
    position: relative;
    justify-content: center;
    align-items: center;
    color: var(--color-enslaved--base);
    background: black;
    border: var(--var-border-width, 0.4rem) solid var(--color-enslaved--base);
    box-shadow: 0 0 0.5rem black inset, 0 0 0 0.2rem var(--color-enslaved--base) inset, 0 0 2rem var(--color-enslaved--base) inset;
    border-radius: 50%;
    margin: 1.5rem;
    transition-duration: 0.2s;
    animation: a-enslaved-run-button--spin 120s infinite linear;
}

.c-enslaved-run-button__icon:hover {
    color: black;
    background: var(--color-enslaved--base);
    border-color: black;
}

.c-enslaved-run-button__icon--running {
    animation: a-enslaved-run-button--spin 15s infinite linear;
}

.c-enslaved-run-button__icon__sigil {
    font-size: 12rem;
    transform: rotate(45deg);
}
.c-enslaved-run-button__icon__sigil {
    position: absolute;
    top: -3.7rem;
    right: -0.2rem;
    font-size: 14.8rem;
    transform: rotate(45deg);
}
.c-enslaved-run-button__icon__glitch {
    width: 0.1rem;
    position: absolute;
    background-image: linear-gradient( rgba(0, 0, 0, 0%) 0%, var(--color-enslaved--base) 20%, var(--color-enslaved--base) 80%, rgba(0, 0, 0, 0%) 100% );
    border: none;
}

.c-enslaved-run-button__icon:hover .c-enslaved-run-button__icon__glitch {
    background-image: linear-gradient(rgba(0, 0, 0, 0%) 0%, black 20%, black 80%, rgba(0, 0, 0, 0%) 100%);
}

@keyframes a-enslaved-run-button--spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

.c-enslaved-hint-modal {
    display: flex;
    flex-direction: column;
    width: 60rem;
    text-align: left;
    font-size: 1.2rem;
    padding: 0.25rem 1rem;
}

.c-enslaved-hint-modal::-webkit-scrollbar {
    width: 1rem;
}

.c-enslaved-hint-modal::-webkit-scrollbar-thumb {
    border: none;
}

.s-base--metro .c-enslaved-hint-modal::-webkit-scrollbar-thumb {
    border-radius: 0;
}

.c-black-hole__slider-process {
    background-image: linear-gradient(90deg,#77441a,#ffa337);
}
  
.s-base--dark .c-black-hole__slider-process {
    background-image: linear-gradient(90deg,sandybrown,var(--color-enslaved--base));
}
  
.c-black-hole__slider-bg {
    background-image: linear-gradient(#888888,#666666);
}
  
.s-base--dark .c-black-hole__slider-bg {
    background-image: linear-gradient(#444444,#666666);
}
.c-black-hole__slider-handle:hover {
    background: #ffa337;
}
/* #endregion enslaved tab */
/* #startregion v tab */
.l-v-celestial-tab {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.l-v-unlocks-container {
    display: flex;
    overflow: hidden;
    flex-wrap: wrap;
    width: 97.5rem;
    justify-content: center;
    box-sizing: border-box;
    margin: auto;
    margin-top: 1rem;
    margin-bottom: 1rem;
    direction: ltr;
}

.l-v-unlocks-container li {
    visibility: visible;
    overflow: hidden;
    list-style-type: none;
    width: 27rem;
    position: relative;
    padding: 0 0 31.2rem;
    transform: rotate(-60deg) skewY(30deg);
}

/* required for hex structure */
.l-v-unlocks-container li:nth-child(3n+2) {
    margin: 0 1%;
}

.l-v-unlocks-container li:nth-child(6n+4), .l-v-unlocks-container li:nth-child(6n+5), .l-v-unlocks-container li:nth-child(6n+6) {
    margin-top: -7%;
    margin-bottom: -7%;
}

.l-v-unlocks-container li:nth-child(6n+1), .l-v-unlocks-container li:nth-child(6n+2), .l-v-unlocks-container li:nth-child(6n+3) {
    transform: translateX(50%) rotate(-60deg) skewY(30deg);
}

.l-v-unlocks-container li:nth-child(6n+1) {
    margin-left: 1%;
}

.c-v-unlock {
    color: rgb(255, 255, 255);
    text-shadow: 1px 2px 3px black, 0 0 3px black;
    background: url(../images/celestials/v-hexagon.png),url(../images/celestials/v-background.png), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark:whitesmoke;
    padding: 1.25rem;
    background-position: center;
    /*box-shadow: 0 0 2rem .5rem black inset;*/
}
.c-v-unlock-hard {
    background: url(../images/celestials/v-hexagon-hard.png),url(../images/celestials/v-background.png), linear-gradient(var(--bg-bright),var(--bg-dark));
    background-position: center;
}
.c-v-empty {
    background: url(../images/celestials/v-hexagon-empty.png),url(../images/celestials/hexagon-background-empty.png);
}
.o-v-unlock-name {
    font-size: 2rem;
    font-weight: bold;
    font-family: cambria;
    border-bottom: 1px solid;
    border-top: 1px solid;
    text-shadow: 1px 2px 3px black, 0 0 3px black;
    border-image: linear-gradient(90deg, transparent, white, transparent) 1;
    background: linear-gradient(90deg, transparent, #00000088, transparent);
    width:100%;
    line-height: 1.2;
}

.o-v-unlock-desc {
    font-size: 1.1rem;
}

.o-v-unlock-amount {
    font-size: 1.3rem;
    font-weight: bold;
}

.l-v-milestones-grid {
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 0.5rem;

    border-radius: var(--var-border-radius, 0.5rem);
    border: var(--var-border-width, 0.1rem) solid var(--color-v--base);
    box-shadow: 0 0 2rem black inset, 0 0 0 0.2rem var(--color-v--base) inset;
    background: linear-gradient(#00000040,#d1ba3760), var(--leg-base);
    background-position: center;
}
.s-base--dark .l-v-milestones-grid,
.s-base--dark .c-v-unlock-container{
    background: url(../images/upgrades/v.png),linear-gradient(#00000060,#d1ba3760), var(--leg-base);
    background-position: center;
}
.l-v-milestones-grid__row {
    display: flex;
    flex-direction: row;
    justify-content: center;
    margin: 0.5rem;
}
.c-v-unlock-container{
    padding: 1rem;
    border-radius: var(--var-border-radius, 0.5rem);
    border: var(--var-border-width, 0.1rem) solid var(--color-v--base);
    box-shadow: 0 0 2rem black inset, 0 0 0 0.2rem var(--color-v--base) inset;
    background: linear-gradient(#00000040,#d1ba3760), var(--leg-base);
    background-position: center;
}
.c-v-unlock-bar {
    width: 40rem;
    position: relative;
    z-index: 0;
    border: var(--var-border-width, 0.3rem) solid;
    border-image: url(../images/frames/base-blob.png) 3;
    border-radius: var(--var-border-radius, 0.5rem);
    background: linear-gradient(transparent,transparent),url(../images/celestials/pelle-bar-empty.png);
    color:white;
    box-shadow: 0 0 0.5rem 0.2rem #00000080;
    text-shadow: 0.1rem 0.1rem 0.1rem black,-0.1rem -0.1rem 0.1rem black,0.1rem -0.1rem 0.1rem black,-0.1rem 0.1rem 0.1rem black;
    background-size: 256px 100%;
    padding: 0.6rem;
}

.c-v-unlock-bar__progress {
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    background: url(../images/celestials/v-bar-overlay.png), linear-gradient(90deg, var(--bg-dark) -50%,var(--bg-bright));
    box-shadow: 0 0 1rem #00000080 inset;
    background-size: 256px 100%, 100% 100%;
    animation: a-vbar 10s infinite linear;
}
@keyframes a-vbar {
    0%{background-position-x: 0, 0;}
    100%{background-position-x: 256px, 0;}
  }
.o-v-milestone {
    display: flex;
    flex-direction: column;
    width: 25rem;
    height: 10rem;
    justify-content: space-around;
    font-size: 1.1rem;
    color: gray;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    background: url(../images/time-studies/ts-triad.png), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-bright: #1c1b17;
    --bg-dark: #3e3b32;
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    --border:#473f1f;
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem var(--border) inset;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: 0 0.5rem;
    padding: 0.5rem;
    -webkit-user-select: none;
    user-select: none;
}

.o-v-milestone--unlocked {
    background-color: var(--color-v--base);
    color: WHITE;
    --bg-bright: #433813;
    --bg-dark: #9e802e;
    --border: #c9bb6b;
}

.c-v-unlock-button--enabled {
    cursor: pointer;
}

.l-v-hexagon {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    justify-content: center;
    align-items: center;
    transform: skewY(-30deg) rotate(60deg);
    -webkit-user-select: none;
    user-select: none;
}
.l-v-reduction {
    width: 3rem;
    height: 3rem;
    font-size: 1.5rem;
    border-radius: var(--var-border-radius, 50%);
    padding: 0;
}

.c-v-info-text {
    font-size: 1.2rem;
    color: var(--color-text);
}

.c-v-run-button {
    font-family: Typewriter;
    font-size: 1.3rem;
    color: white;
    text-shadow: 0.1rem 0.1rem 0.2rem black,-0.1rem -0.1rem 0.2rem black,0.1rem -0.1rem 0.2rem black,-0.1rem 0.1rem 0.2rem black, 0 0 0.3rem black;
    background: var(--bg-img),url(../images/celestials/v-background.png), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-img:url(../images/celestials/v-hexagon-button.png);
    --bg-dark: rgb(209, 167, 51);
    --bg-bright: rgb(70, 55, 17);
    padding: 3rem;
    transition-duration: 0.2s;
    background-position: center;
}

.c-v-run-button:hover, .c-v-run-button--running {
    --bg-img:url(../images/celestials/v-hexagon-active.png);
    --bg-dark: #b14242;
    --bg-bright: #5f2323;
}

.c-v-run-button__line {
    box-shadow: 0 0 1rem 0.25rem black;
    width: 12rem;
    height: 2.4rem;
    position: absolute;
    z-index: -1;
    background-image: url(../images/celestials/v-bar-container.png),url(../images/celestials/v-bar.png);
    transition-duration: 0.2s;
    animation: v-bar 30s infinite linear;
}

.c-v-run-button:hover .c-v-run-button__line, .c-v-run-button--running .c-v-run-button__line {
    background-image: url(../images/celestials/v-bar-container-active.png),url(../images/celestials/v-bar-active.png);
}
@keyframes v-bar {
    0%{background-position-x: 0,0;}
    100%{background-position-x: 0,256px;}
  }
.c-v-run-button__line--1 {
    top: 23.4rem;
    left: 12.6rem;
    transform: rotate(-30deg);
}

.c-v-run-button__line--2 {
    top: 14.4rem;
    left: -3rem;
    transform: rotate(90deg);
}

.c-v-run-button__line--3 {
    top: 5.4rem;
    left: 12.6rem;
    transform: rotate(30deg);
}

.c-v-run-button--running .c-v-run-button__line--1 {
    animation: v-bar 3s infinite linear, a-c-v-run-button__line--1--move 3s infinite cubic-bezier(0.9, 0, 0, 0.9), a-c-v-run-button__line--burst 3s infinite cubic-bezier(0.9, 0, 0, 0.9);
}

.c-v-run-button--running .c-v-run-button__line--2 {
    animation: v-bar 3s infinite linear, a-c-v-run-button__line--2--move 3s infinite cubic-bezier(0.9, 0, 0, 0.9), a-c-v-run-button__line--burst 3s infinite cubic-bezier(0.9, 0, 0, 0.9);
}

.c-v-run-button--running .c-v-run-button__line--3 {
    animation: v-bar 3s infinite linear, a-c-v-run-button__line--3--move 3s infinite cubic-bezier(0.9, 0, 0, 0.9), a-c-v-run-button__line--burst 3s infinite cubic-bezier(0.9, 0, 0, 0.9);
}

@keyframes a-c-v-run-button__line--1--move {
    0% {
        top: 23.4rem;
        left: 12.6rem;
        transform: rotate(-30deg);
    }

    50% {
        top: 23.4rem;
        left: 1.8rem;
        transform: rotate(30deg);
    }

    100% {
        top: 23.4rem;
        left: 12.6rem;
        transform: rotate(-30deg);
    }
}

@keyframes a-c-v-run-button__line--2--move {
    0% {
        top: 14.4rem;
        left: -3rem;
        transform: rotate(90deg);
    }

    50% {
        top: 5.4rem;
        left: 2.4rem;
        transform: rotate(150deg);
    }

    100% {
        top: 14.4rem;
        left: -3rem;
        transform: rotate(90deg);
    }
}

@keyframes a-c-v-run-button__line--3--move {
    0% {
        top: 5.4rem;
        left: 12.6rem;
        transform: rotate(30deg);
    }

    50% {
        top: 14.4rem;
        left: 17.4rem;
        transform: rotate(90deg);
    }

    100% {
        top: 5.4rem;
        left: 12.6rem;
        transform: rotate(30deg);
    }
}

@keyframes a-c-v-run-button__line--burst {
    0% {
        box-shadow: 0 0 1rem 0.25rem black;
    }
    50% {
        box-shadow: 0 0 0.5rem 0.25rem indianred,0 0 1rem 0.25rem black;
    }
    100% {
        box-shadow: 0 0 1rem 0.25rem black;
    }
}

/* #endregion v tab */
/* #startregion ra tab */
.l-ra-celestial-tab {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.c-ra-pet-header {
    width: 35rem;
    height: 27rem;
    background:url(../images/upgrades/ra.png),linear-gradient(var(--deg),#282828, var(--border) 300%);
    background-position: center;
    border: 1px solid #555555;
    box-shadow: 0 0 1.5rem black inset, 0 0 0 0.3rem inset #777777, 0 0 3rem 0.5rem inset #282828;
    text-shadow: -1px -1px 2px black, 1px 1px 2px black;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.c-ra-pet-header:nth-child(1) {
    border-top-left-radius: var(--var-border-radius, 0.5rem);
    --deg:135deg;
}
.c-ra-pet-header:nth-child(2) {
    border-top-right-radius: var(--var-border-radius, 0.5rem);
    --deg:-135deg;
}
.c-ra-pet-header:nth-child(3) {
    border-bottom-left-radius: var(--var-border-radius, 0.5rem);
    --deg:45deg;
}
.c-ra-pet-header:nth-child(4) {
    border-bottom-right-radius: var(--var-border-radius, 0.5rem);
    --deg:-45deg;
}
.c-ra-pet-header--locked {
    background: url(../images/upgrades/ra.png),linear-gradient(#141414, #222222);
    background-position: center;
    border: 1px solid #333333;
    box-shadow: 0 0 1.5rem black inset, 0 0 0 .3rem inset #333333;
}

.s-base--metro .c-ra-pet-header {
    box-shadow: none;
}

.c-ra-pet-title {
    font-size: 2.2rem;
    font-family: cambria;
    font-weight: bold;
    line-height: 1.2;
    border-bottom: 0.1rem solid;
    border-top: 0.1rem solid;
    border-image: linear-gradient(90deg, transparent, currentcolor, transparent) 1;
}

.l-ra-bar-container {
    display: flex;
    width: 100%;
    height: 5.2rem;
    margin-left: -0.1rem;
    border: 1px solid #777777;
    border-left: none;
    border-radius: 0 var(--var-border-radius, 1rem) var(--var-border-radius, 1rem) 0;
    box-shadow: 0.5rem 0 1rem black;
}
.s-base--metro .l-ra-bar-container {
    height: 5.4rem;
}
.l-ra-lvl-chevron {
    height: 1.75rem;
    position: absolute;
    top: 0;
    z-index: 2;
    font-size: 1.2rem;
    color: white;
    border-left: 0.1rem solid white;
    padding: 0 0.2rem;
    -webkit-user-select: none;
    user-select: none;
    cursor: default;
}

.l-ra-lvl-chevron--no-bar {
    border-left: none !important;
}

.c-important-chevron {
    height: 4.6rem;
    z-index: 3;
    font-size: 1.5rem;
    font-weight: bold;
    text-shadow: 0.1rem 0.1rem 0.1rem black, -0.1rem 0.1rem 0.1rem black, 0.1rem -0.1rem 0.1rem black, -0.1rem -0.1rem 0.1rem black, 0.1rem -0.1rem 0 black;
    border-left-width: var(--var-border-width, 0.2rem);
}

.o-ra-unlock-hover-text {
    display: flex;
    width: 12.5rem;
    height: fit-content;
    position: absolute;
    bottom: 6rem;
    left: -6.25rem;
    z-index: 3;
    justify-content: center;
    text-align: center;
    font-size: 1rem;
    color: #ffffff;
    background-color: black;
    border-radius: var(--var-border-radius, 5px);
    padding: 1rem;
}

.c-ra-exp-bar {
    width: 100%;
    height: 5rem;
    position: relative;
    border: var(--var-border-width, 0.1rem) solid black;
    box-shadow: 0 0 1rem black inset,#777777 inset 0px 0px 0px 2px;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    background-image: url(../images/celestials/ra-bar-empty.png);
}

.s-base--metro .c-ra-exp-bar {
    height: 5.2rem;

}

.c-ra-exp-bar-inner {
    height: 100%;
    background: url(../images/celestials/ra-bar-overlay.png),linear-gradient(currentcolor,currentcolor);
    box-shadow: 0 0 1rem #000000aa inset,currentcolor inset 0px 0px 0px 1px;
    background-size:256px 100%;
    animation: a-bar 25s infinite linear;
    /*position:absolute*/
}

.c-ra-upgrade-bar {
    display: flex;
    width: 5rem;
    height: 2.55rem;
    justify-content: flex-end;
    border: var(--var-border-width, 0.1rem) solid black;
    box-shadow: 0 0 1rem black inset,#777777 inset 0px 0px 0px 2px;
    background-image: url(../images/celestials/ra-bar-empty.png);
    background-size:256px 100%;
}

.s-base--metro .c-ra-upgrade-bar {
    height: 2.65rem;
}

.c-ra-upgrade-bar__inner {
    height: 100%;
    background: url(../images/celestials/ra-bar-overlay.png),linear-gradient(currentcolor,currentcolor);
    box-shadow: 0 0 1rem #000000aa inset,currentcolor inset 0px 0px 0px 1px;
    background-size:256px 100%;
    animation: a-bar-reverse 25s infinite linear;
}

.l-ra-pet-container {
    float: left;
}

.c-ra-memory-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: 1.3rem;
    font-weight: bold;
}

.c-ra-upgrade-icon {
    display: flex;
    width: 4.2rem;
    height: 4.2rem;
    position: relative;
    justify-content: center;
    align-items: center;
    font-size: 2.3rem;
    background: url(../images/glyphs-alchemy/glyph-pattern.png),linear-gradient(var(--bg-dark) -25%,var(--bg-bright) 150%);
    background-position: center;
    --bg-dark: #1a1a1a;
    border: 0.1rem solid var(--border);
    border-radius: var(--var-border-radius, 25%);
    box-shadow: 0px 0px 1rem #000000a0 inset,0 0 0 0.15rem var(--border) inset,0.15rem 0.15rem 0.15rem rgba(0, 0, 0, 70%);
    color: white;
    text-shadow: -1px -1px 2px var(--border), 1px 1px 2px var(--border);
    margin: 0 0.2rem;
    -webkit-user-select: none;
    user-select: none;
}

.s-base--metro .c-ra-upgrade-icon {
    border-color: black;
}

.c-ra-upgrade-icon--inactive {
    --bg-dark:#222222;
    --bg-bright:#2a2a2a !important;;
    color: #555555;
    text-shadow: 1px 1px 2px black;
    --border:#555555
}

.l-ra-non-pets {
    display: flex;
    justify-content: center;
}

.c-ra-run-button {
    display: flex;
    flex-direction: column;
    width: 35rem;
    justify-content: center;
    align-items: center;
    font-family: Typewriter;
    color: #9575cd;
    background: url(../images/upgrades/ra.png),linear-gradient(#141414, var(--color-ra--base) 500%);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid var(--color-ra--base)/*#4b3d63*/;
    box-shadow: 0 0 2rem black inset, 0 0 0 3px var(--color-ra--base) inset;
    text-shadow: 0.1rem 0.1rem 0.3rem black,-0.1rem -0.1rem 0.3rem black;
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 1rem;
    margin: 0.5rem;
    height: 100%;
    font-size: 1.2rem;
}

.c-ra-run-button__icon {
    display: flex;
    width: 12rem;
    height: 12rem;
    justify-content: center;
    align-items: center;
    font-size: 3rem;
    color: #9575cd;
    text-shadow: 0 0 1rem;
    background-color: black;
    border: var(--var-border-width, 0.4rem) solid #9575cd;
    border-radius: 50%;
    box-shadow: 0 0 0.7rem #9575cd, 0 0 0.7rem #9575cd inset;
    margin: 1.5rem 0;
    transition-duration: 0.2s;
}

.c-ra-run-button__icon:hover {
    font-size: 7.5rem;
    color: black;
    background-color: #9575cd;
    border-color: black;
}

.c-ra-run-button__icon--running {
    font-size: 7.5rem;
    color: black;
    background-color: #9575cd;
    border-color: black;
    box-shadow: 0 0 1.5rem #9575cd, 0 0 1.5rem #9575cd inset;
}

.c-ra-run-button__icon--running .c-ra-run-button__icon__sigil {
    animation: a-c-ra-run-button__icon__sigil--undulate 0.6s infinite ease-in-out, a-c-ra-run-button__icon__sigil--glow 3s infinite ease-in-out;
}

@keyframes a-c-ra-run-button__icon__sigil--undulate {
    0% {
        transform: scale(0.9);
    }

    50% {
        transform: scale(1);
    }

    100% {
        transform: scale(0.9);
    }
}

@keyframes a-c-ra-run-button__icon__sigil--glow {
    0% {
        text-shadow: 0 0 1rem;
    }

    50% {
        text-shadow: 0 0 3rem;
    }

    100% {
        text-shadow: 0 0 1rem;
    }
}

.c-ra-rewards {
    display: flex;
    flex-direction: row;
    justify-content: center;
    font-size: 1.5rem;
    margin: 1rem;
}

.c-ra-rewards-inner {
    margin: 0 1rem;
}

.c-ra-remembrance-unlock {
    text-shadow: -1px -1px 2px black, 1px 1px 2px black;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    background: url(../images/upgrades/ra.png),linear-gradient(#282828, var(--color-ra--base) 500%);
    border: 1px solid var(--color-ra--base);
    background-position: center;
    border-radius: var(--var-border-radius, 0.5rem);
    box-shadow: 0 0 2rem black inset, 0 0 0 3px var(--color-ra--base) inset;
    width: 35rem;
    padding: 1rem;
    margin: 0.5rem;
}
.c-ra-remembrance-unlock-inner {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
}

.c-ra-pet-remembrance-button {
    width: 5rem;
    height: 5rem;
    text-align: center;
    font-family: Typewriter;
    font-size: 2.5rem;
    color:white;
    text-shadow: 0.1rem 0.1rem 0.3rem black,-0.1rem -0.1rem 0.3rem black;
    background: url(../images/upgrades/ra.png), linear-gradient(var(--bg-bright),var(--bg-dark) 200%);
    border:0.1rem solid var(--border);
    box-shadow: 0 0 1rem inset black, 0 0 0 0.2rem inset var(--border);
    border-radius: var(--var-border-radius, 1rem);
    margin: 0.2rem 0.5rem;
    cursor: pointer;
}

.c-ra-pet-remembrance-button:hover {
    color:white !important;
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-ra--base), -0.1rem -0.1rem 0.3rem var(--color-ra--base) !important;
    box-shadow: 0 0 1rem inset black, 0 0 0 0.2rem inset var(--border), 0 0 1rem 0.2rem inset var(--color-ra--base);
}


.c-ra-laitela-unlock {
    display: flex;
    flex-direction: column;
    width: 30rem;
    height: 33rem;
    justify-content: center;
    align-items: center;
    font-family: Typewriter;
    color: black;
    border-radius: var(--var-border-radius, 2rem);
    margin: 2rem;
    padding: 1rem;
    animation: a-ra-color-shift 10s infinite;
}

.s-base--metro .c-ra-laitela-unlock {
    border-color: black;
}

@keyframes a-ra-color-shift {
    0% {
        background-color: var(--color-ra-pet--teresa);
    }

    25% {
        background-color: var(--color-ra-pet--effarig);
    }

    50% {
        background-color: var(--color-ra-pet--enslaved);
    }

    75% {
        background-color: var(--color-ra-pet--v);
    }

    100% {
        background-color: var(--color-ra-pet--teresa);
    }
}

.l-ra-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    margin: auto;
    width: 106rem;
}

.l-ra-all-pets-container {
    display: flex;
    flex-wrap: wrap;
    width: 70rem;
    min-width: 70rem;
    height: 54rem;
    margin: 0.5rem;
    /*box-sizing: content-box;
    border: 1.2rem solid;
    border-image: url(../images/frames/upgrade-imaginary.png) 12 round;*/
}

.l-ra-unlock {
    display: flex;
    flex-direction: column;
    width: 15%;
    height: 10rem;
    position: relative;
    top: -10rem;
    left: 82.5%;
    justify-content: center;
    background: #35d035;
    border: var(--var-border-width, 0.2rem) solid gainsboro;
    border-radius: var(--var-border-radius, 0.5rem);
}

.l-ra-unlock-inner {
    display: flex;
    flex: 1 0;
    flex-direction: column;
    justify-content: center;
    color: black;
    margin: auto 0.5rem;
}

.l-ra-alchemy-tab {
    display: flex;
    flex-direction: column;
    position: relative;
    align-items: center;
}

.l-ra-pet-upgrade-container {
    display: flex;
    flex-direction: column;
    border: 1px solid #777777;
    border-right: none;
    border-radius: var(--var-border-radius, 1rem) 0 0 var(--var-border-radius, 1rem);
    box-shadow: -0.5rem 0 1rem black;
}
.s-base--metro .l-ra-pet-upgrade-container {
    height:5.4rem
}
.l-ra-pet-upgrade {
    display: flex;
}

.c-ra-pet-upgrade {
    display: flex;
    width: 2.5rem;
    height: 2.55rem;
    position: relative;
    justify-content: center;
    align-items: center;
    font-size: 1.3rem;
    color: #999999;
    text-shadow: 0.1rem 0.1rem 0.3rem black, -0.1rem -0.1rem 0.3rem black;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: #252525;
    --bg-bright: #444444;
    --border: #777777;
    --bg: url(../images/upgrades/bought.png);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid black;
    box-shadow: 0 0 1rem black inset,var(--border) inset 0px 0px 0px 2px;
    border-right: 0;
    border-radius: var(--var-border-radius, 1rem);
    transition-duration: 0.2s;
}
.c-ra-pet-upgrade:hover {
    color: white;
    --bg-dark: var(--leg-bg-hover);
}
.s-base--metro .c-ra-pet-upgrade {
    height: 2.65rem;
}

/*.c-ra-pet-upgrade__right, .c-ra-pet-upgrade__top {
    margin-bottom: -0.1rem;
}*/

.c-ra-pet-upgrade__bottom {
    margin-top: -0.1rem;
}


.c-ra-pet-upgrade__tooltip {
    width: 30rem;
    position: absolute;
    bottom: 100%;
    z-index: 2;
    font-size: 1.4rem;
    opacity: 0;
    color: #888888;
    background: url(../images/upgrades/ra.png),linear-gradient(var(--bg-dark), var(--bg-bright) 200%);
    --bg-dark: #222222;
    border: 0.1rem solid var(--border);
    border-radius: var(--var-border-radius, 0.8rem);
    box-shadow: 0px 0px 1.5rem #000000 inset,0 0 0 0.2rem var(--border) inset,0.15rem 0.15rem 0.5rem rgba(0, 0, 0, 70%);
    text-shadow: -1px -1px 2px black,1px 1px 2px black;
    margin-left: 0;
    padding: 0 1rem 1rem 1rem;
    transition-duration: 0.3s;
    pointer-events: none;
    font-weight: normal;
    background-position: center;
}

.c-ra-pet-upgrade__tooltip::after {
    content: " ";
    width: 0;
    position: absolute;
    bottom: 0;
    left: 50%;
    z-index: 0;
    border-top: 0 solid var(--border);
    border-right: 0.7rem solid transparent;
    border-left: 0.7rem solid transparent;
    margin-bottom: 0;
    margin-left: -0.7rem;
    transition-duration: 0.3s;
}

.c-ra-pet-upgrade:hover .c-ra-pet-upgrade__tooltip {
    bottom: calc(100% + 0.8rem);
    opacity: 1;
}

.s-base--metro .c-ra-pet-upgrade:hover .c-ra-pet-upgrade__tooltip {
    bottom: calc(100% + 0.7rem);
    opacity: 1;
}

.c-ra-pet-upgrade:hover .c-ra-pet-upgrade__tooltip::after {
    border-top-width: 0.7rem;
    margin-bottom: -0.7rem;
}

.c-ra-level-up-btn:hover .c-ra-pet-upgrade__tooltip {
    bottom: calc(100% + 0.8rem);
    opacity: 1;
}

.s-base--metro .c-ra-level-up-btn:hover .c-ra-pet-upgrade__tooltip {
    bottom: calc(100% + 0.7rem);
    opacity: 1;
}

.c-ra-level-up-btn:hover .c-ra-pet-upgrade__tooltip::after {
    border-top-width: 0.7rem;
    margin-bottom: -0.7rem;
}

.c-ra-upgrade-icon:hover .c-ra-pet-upgrade__tooltip {
    bottom: calc(100% + 0.7rem);
    opacity: 1;
}

.c-ra-upgrade-icon:hover .c-ra-pet-upgrade__tooltip::after {
    border-top-width: 0.7rem;
    margin-bottom: -0.7rem;
}

.c-ra-pet-btn--teresa .c-ra-pet-upgrade__tooltip,
.c-ra-upgrade-icon--teresa .c-ra-pet-upgrade__tooltip{
    color: var(--color-ra-pet--teresa);
}

.c-ra-pet-btn--effarig .c-ra-pet-upgrade__tooltip,
.c-ra-upgrade-icon--effarig .c-ra-pet-upgrade__tooltip {
    color: var(--color-ra-pet--effarig);
}

.c-ra-pet-btn--enslaved .c-ra-pet-upgrade__tooltip,
.c-ra-upgrade-icon--enslaved .c-ra-pet-upgrade__tooltip {
    color: var(--color-ra-pet--enslaved);
}

.c-ra-pet-btn--v .c-ra-pet-upgrade__tooltip,
.c-ra-upgrade-icon--v .c-ra-pet-upgrade__tooltip {
    color: var(--color-ra-pet--v);
}

.c-ra-upgrade-icon--inactive .c-ra-pet-upgrade__tooltip {
    --bg-dark: #222222;
    color:#888888
}
.c-ra-pet-upgrade__tooltip__name {
    font-size: 2rem;
    line-height: 1.2;
    font-family: cambria;
    padding-top: 0.3rem;
    font-weight: bold;
    border-bottom: solid 1px;
    border-image: linear-gradient(90deg, transparent, currentcolor, transparent) 1;
    background: linear-gradient(90deg,transparent 10%,#9575cd60,transparent 90%);
}

.c-ra-pet-upgrade__tooltip__description {
    font-size: 1.3rem;
    background-color: #00000088;
    box-shadow:0.05rem 0.05rem 0.3rem;
    border-radius: 1rem;
    padding: 0.3rem;
    margin-top: 0.5rem;
}

.c-ra-upgrade-icon .c-ra-pet-upgrade__tooltip__name {
    font-size: 2rem;
    font-family: cambria;
    font-style: normal;
    line-height: 1.2;
}

.c-ra-pet-upgrade__tooltip__footer {
    font-size: 1.2rem;
    font-style: italic;
    background-color: #00000088;
    box-shadow:0.05rem 0.05rem 0.3rem;
    border-radius: 1rem;
    padding: 0.3rem;
    margin-top: 0.5rem;
}
.c-ra-level-up-btn {
    display: flex;
    width: 3rem;
    height: 5rem;
    position: relative;
    justify-content: center;
    align-items: center;
    font-size: 2rem;
    color: #999999;
    text-shadow: 0.1rem 0.1rem 0.3rem black, -0.1rem -0.1rem 0.3rem black;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: #252525;
    --bg-bright: #444444;
    --border: #777777;
    --bg: url(../images/upgrades/bought.png);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid black;
    box-shadow: 0 0 1rem black inset,var(--border) inset 0px 0px 0px 2px;
    border-left: none;
    border-radius: var(--var-border-radius, 1rem);
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    transition-duration: 0.2s;
}
.c-ra-level-up-btn:hover {
    color: white;
    --bg-dark: var(--leg-bg-hover);
}
.s-base--metro .c-ra-level-up-btn {
    height: 5.2rem;
}

.c-ra-pet-btn--available {
    cursor: pointer;
    background: url(../images/glyphs-alchemy/glyph-pattern.png),linear-gradient(var(--bg-dark) -25%,var(--bg-bright) 150%);
    box-shadow: 0 0 1rem black inset,var(--border) inset 0px 0px 0px 1px;
    --bg-dark: #1a1a1a;
    background-position: center;
    --border:currentcolor;
}

.c-ra-pet-btn--available:hover {
    color: white;
    background: url(../images/glyphs-alchemy/glyph-pattern.png),linear-gradient(var(--bg-dark) -100%,var(--bg-bright) 100%);
    box-shadow: 0 0 1rem white inset,var(--border) inset 0px 0px 0px 1px;
    --bg-dark: #1a1a1a;
    background-position: center;
}

.c-ra-pet-btn--teresa {
    color: var(--color-ra-pet--teresa);
    --bg-bright: #6c7ed9;
}



.c-ra-pet-btn--effarig {
    color: var(--color-ra-pet--effarig);
    --bg-bright: #e21717;
}



.c-ra-pet-milestones-effarig-link {
    font-weight: normal;
}

.c-ra-pet-btn--enslaved, .c-ra-pet-btn--enslaved__capped{
    color: var(--color-ra-pet--enslaved);
    --bg-bright: #d97639;
}



.c-ra-pet-btn--v {
    color: var(--color-ra-pet--v);
    --bg-bright: #d3b234;
}



.c-ra-pet-btn--available__capped {
    color: white;
    text-shadow: 0.1rem 0.1rem 0.3rem var(--bg-bright), -0.1rem -0.1rem 0.3rem var(--bg-bright);
    background: url(../images/glyphs-alchemy/glyph-pattern.png),linear-gradient(var(--bg-dark) -100%,var(--bg-bright) 100%);
    box-shadow: 0 0 0.25rem black inset,var(--bg-bright) inset 0px 0px 0px 1px !important;
    background-position: center;
    cursor: default;
}

.l-ra-pet-middle-container {
    display: flex;
    height: 4rem;
    justify-content: center;
    align-items: center;
    margin: 1.5rem 0;
    padding: 0 1rem;
}

.l-ra-pet-middle-capped {
    height: 5rem;
    margin: 1rem;
    padding: 0 2rem;
    border-radius: var(--var-border-radius, 1rem);
    border: var(--var-border-width, 0.1rem) solid #777777;
    box-shadow: 0 0 1rem black inset, 0 0 0 0.2rem #777777 inset, 0 0 1rem black;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(#282828, var(--border) 300%);
    /*animation: a-ra-capped 10s infinite;*/
}
@keyframes a-ra-capped {
    0%{background:black;}
    50%{background:currentColor;}
    100%{background:black;}
}
/* #endregion ra tab */
/* #region alchemy tab */
.c-alchemy-resource-info {
    display: flex;
    flex-direction: column;
    width: 65rem;
    height: 12rem;
    justify-content: center;
    text-align: center;
    font-size: 1.2rem;
    border: 1.2rem solid;
    border-image: var(--leg-border) 12 round;
    background: var(--leg-base);
    box-shadow: 0 0 2rem #00000080 inset;
    margin-top: 0.5rem;
    padding: 0.25rem 1rem;
    color: var(--color-text);
    --alchemy-text:#69572f
}
.s-base--dark .c-alchemy-resource-info {
    box-shadow: 0 0 2rem black inset;
    text-shadow: -0.1rem -0.1rem 0.3rem black,0.1rem 0.1rem 0.3rem black;
    --alchemy-text:#d3c4a1
}
.c-alchemy-resource-info--locked {
    color: var(--alchemy-text);
    font-size: 2rem;
    font-weight: bold;
    font-family: cambria;
}
.l-resource-component{
    display: inline-flex;
    position: relative;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    width: 5rem;
    height: 5rem;
    border-radius: 50%;
    -webkit-user-drag: none;
    font-size: 3.5rem;
    text-shadow: 0.1rem 0.1rem 0.2rem black, -0.1rem -0.1rem 0.2rem black,-0.1rem 0.1rem 0.2rem black, 0.1rem -0.1rem 0.2rem black;
    box-shadow: 0 0 0.5rem black inset;
    font-style: normal;
    font-weight: normal;
    color:white
}
.l-resource-component:before{
    content: '';
    position: absolute;display: block;
    left: -1rem;top: -1rem;
    width: 7rem;height: 7rem;
    background: url(../images/glyphs-alchemy/crate_tooltip.png);
    box-shadow: 0 0 1rem 0.3rem black;
    border-radius:50%;
}
.t-amoled .l-resource-component:before,
.t-amoled-metro .l-resource-component:before{
background-position-y: -7rem;
}
.c-alchemy-resource-info__title {
    color: var(--alchemy-text);
    font-size: 1.5rem;
    font-weight: bold;
    border-bottom: 0.1rem solid;
    border-image: linear-gradient(90deg,transparent,var(--color-text),transparent) 1;
}

.c-reality-glyph-creation {
    display: flex;
    flex-direction: column;
    width: 60rem;
    padding: 0.25rem 1rem;
}

.l-alchemy-orbit-canvas {
    overflow: visible;
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
}

.l-alchemy-arrow-canvas {
    overflow: visible;
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
}

.l-alchemy-circle {
    position: relative;
    margin: 1.5rem;
    border: transparent solid 2rem;
    background: url(../images/glyphs-alchemy/alchemy-rings.png),url(../images/glyphs-alchemy/background-alchemy.png);
    background-position: -2rem;
    border-radius: 50%;
    box-shadow: 0rem 0rem 2.5rem black;
}

.t-amoled .l-alchemy-circle,
.t-amoled-metro .l-alchemy-circle {
    background: url(../images/glyphs-alchemy/alchemy-rings-amoled.png),url(../images/glyphs-alchemy/background-alchemy-amoled.png);
    background-position: -2rem;
}

.c-alchemy-circle__doomed {
    background: url(../images/glyphs-alchemy/alchemy-rings-pelled.png),url(../images/glyphs-alchemy/background-alchemy.png);
    background-position: -2rem;
}
.t-amoled .c-alchemy-circle__doomed,
.t-amoled-metro .c-alchemy-circle__doomed {
    background: url(../images/glyphs-alchemy/alchemy-rings-amoled-pelled.png),url(../images/glyphs-alchemy/background-alchemy-amoled.png);
    background-position: -2rem;
}

.t-s6 .l-alchemy-circle, .t-s10 .l-alchemy-circle {
    background: url(../images/glyphs-alchemy/alchemy-rings-stars.png),url(../images/glyphs-alchemy/background-alchemy-stars.png);
    background-position: -2rem;
}

.t-s4 .l-alchemy-circle,
.t-s4 .c-alchemy-circle__doomed{
    background: url(../images/glyphs-alchemy/alchemy-rings-design.png),url(../images/glyphs-alchemy/background-alchemy-design.png);
    background-position: -2rem;
}

.o-alchemy-orbit {
    stroke: #808080;
    fill: none;
    stroke-width: 1;
    transition-duration: 0.2s;
}

.o-alchemy-orbit--unfocused {
    stroke: lightgray;
    stroke-width: 2;
    stroke-dasharray: 0.2rem;
    animation: a-alch-path 2s infinite linear
}

.o-alchemy-reaction-arrow {
    stroke: #29b6f6;
    stroke-width: 2;
    stroke-linecap: round;
    transition-duration: 0.2s;
}

.t-s4 .o-alchemy-reaction-arrow {
    animation: a-rainbow-stroke 2s infinite;
}

@keyframes a-rainbow-stroke {
    0% {
        stroke: red;
    }

    14.2% {
        stroke: orange;
    }

    28.4% {
        stroke: yellow;
    }

    42.6% {
        stroke: green;
    }

    56.8% {
        stroke: blue;
    }

    71% {
        stroke: indigo;
    }

    85.2% {
        stroke: violet;
    }

    100% {
        stroke: red;
    }
}

.o-alchemy-reaction-arrow--focused {
    stroke-width: 3;
    opacity: 1;
    transition-duration: 0.2s;
}

.o-alchemy-reaction-path {
    stroke: gray;
    opacity: 0.1;
    transition-duration: 0.2s;
}

.o-alchemy-reaction-path--focused {
    stroke: rgb(204, 102, 102);
    stroke-width: 2;
    stroke-dasharray: 0.2rem;
    opacity: 1;
    transition-duration: 0.2s;
    animation: a-alch-path 2s infinite linear
}

@keyframes a-alch-path {
    0% {
        stroke-dashoffset: 0;
    }

    100% {
        stroke-dashoffset: -40;
    }
}

@keyframes a-alch-path-capped {
    0% {
        stroke: #ff9800;
        stroke-width: 1;
    }

    50% {
        stroke: #ff6600;
        stroke-width: 2;
    }

    100% {
        stroke: #ff9800;
        stroke-width: 1;
    }
}

.o-alchemy-reaction-path--capped {
    stroke: #ff9800;
    stroke-width: 2;
    opacity: 1;
    transition-duration: 0.2s;
    animation: a-alch-path-capped 10s infinite
}

.o-alchemy-reaction-path--less-than-required {
    stroke: #ff0000;
    stroke-width: 1;
    opacity: 1;
    transition-duration: 0.2s;
}

.o-alchemy-reaction-path--not-focused {
    opacity: 0.35;
}

.o-alchemy-reaction-path--doomed {
    stroke: var(--color-pelle--base);
    opacity: 0.6;
}

.o-alchemy-node {
    width: 3rem;
    height: 3rem;
    position: absolute;
    z-index: 1;
    font-size: 2rem;
    line-height: 1.9rem;
    color: black;
    background-color: white;
    border: 0.1rem solid black;
    border-radius: 50%;
    margin-top: -1.5rem;
    margin-left: -1.5rem;
    transition: all 0.2s, z-index 0s;
    -webkit-user-select: none;
    user-select: none;
}

.o-alchemy-node:hover {
    transform: scale(1.25);
}

.o-alchemy-node.a-wobble-node{
    transition: all 0.2s, z-index 0s, transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 2.5);
}

.o-alchemy-node:before {
    content: '';
    position: absolute;
    display: block;
    left: -.6rem;
    top: -.6rem;
    width: 4rem;
    height: 4rem;
    background: url(../images/glyphs-alchemy/alchemy-crate.png);
    background-position-x: 0rem;
    background-position-y: 0rem;
    box-shadow: 0 0 1rem 0.25rem black;
    border-radius: 50%;
    z-index: -1;
    transition: 0.2s;
}

.o-alchemy-node:hover:before {
    box-shadow: 0 0 0.3rem 0.1rem white,0 0 0.5rem 0.3rem rgb(204, 102, 103)
}

.o-alchemy-node.o-alchemy-node--base:before {
    background-position-x: 4rem;
}
.t-amoled .o-alchemy-node:before,
.t-amoled-metro .o-alchemy-node:before {
    background-position-y: -4rem;
}
.o-alchemy-node-mask {
    width: 2.4rem;
    height: 2.4rem;
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 4;
    background: radial-gradient(at top,#bbbbbb,gray,black);
    border: 0.1rem solid black;
    border-radius: 50%;
    margin-top: -1.2rem;
    margin-left: -1.2rem;
    color: #cccccc;
    text-shadow: 1px 1px 2px black, -1px -1px 2px black;
}
.o-alchemy-resource-arc-wrapper {
    width: 2.8rem;
    height: 2.8rem;
    position: absolute;
    background: url(../images/glyphs-alchemy/alchemy-wrapper.png);
    border-radius: 50%;
}

.o-alchemy-resource-arc-circle {
    width: 50%;
    height: 100%;
    position: absolute;
    background: url(../images/glyphs-alchemy/alchemy-arc.png);
    animation: a-ac-flow 10s infinite linear,a-ac 10s infinite linear;
}

@keyframes a-ac-flow {
    0% {
        background: url(../images/glyphs-alchemy/alchemy-arc.png);
    }

    50% {
        background: url(../images/glyphs-alchemy/alchemy-arc2.png);
    }

    100% {
        background: url(../images/glyphs-alchemy/alchemy-arc.png);
    }
}

@keyframes a-ac-flow2 {
    0% {
        background: url(../images/glyphs-alchemy/alchemy-arc_cap.png);
    }

    50% {
        background: url(../images/glyphs-alchemy/alchemy-arc_cap2.png);
    }

    100% {
        background: url(../images/glyphs-alchemy/alchemy-arc_cap.png);
    }
}

@keyframes a-ac {
    0% {
        background-position: 0 0;
    }

    100% {
        background-position: 30px 30px;
    }
}

.o-alchemy-resource-arc-spinner {
    z-index: 2;
    border-radius: 1.4rem 0 0 1.4rem;
    transform-origin: 100% 50%;
}

.o-alchemy-resource-arc-filler {
    left: 50%;
    z-index: 1;
    opacity: 0;
    border-radius: 0 1.4rem 1.4rem 0;
}

.o-alchemy-resource-arc-mask {
    width: 50%;
    height: 100%;
    position: absolute;
    z-index: 3;
    opacity: 1;
    background: inherit;
    border-radius: 1.4rem 0 0 1.4rem;
}

.o-alchemy-node--unfocused {
    z-index: 4;
    opacity: 0.35;
}

.o-alchemy-node--locked {
    z-index: 4;
    opacity: 0.25;
}

.o-alchemy-node--base {
    color: #b6e6fc;
    background: radial-gradient(at top,#81d4fa,#005aff,black);
}

.o-alchemy-node--active {
    color: #cee6b3;
    background: radial-gradient(at top,#9ccc65,#4f8000,black);
}
.t-amoled .o-alchemy-node--base,
.t-amoled-metro .o-alchemy-node--base {
    color: #3bc1ff;
    background: radial-gradient(at top,#5b95ad,#002569,black);
}
.t-amoled .o-alchemy-node--active,
.t-amoled-metro .o-alchemy-node--active {
    color: #7dca00;
    background: radial-gradient(at top,#85a068,#2e4b00,black);
}
/* #endregion alchemy tab */
/* #startregion laitela tab */
.l-laitela-celestial-tab {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.o-laitela-run-button {
    width: 24rem;
    height: 84rem;
    font-family: Typewriter;
    font-size: 1.1rem;
    color: var(--color-laitela--accent);
    background: url(../images/upgrades/laitela-light.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    border: var(--var-border-width, 0.1rem) solid #888888;
    box-shadow: 0 0 1rem black inset,#888888 inset 0 0 0  0.3rem;
    border-radius: var(--var-border-radius, 0.5rem);
    margin-right: 1rem;
    padding: 2rem;
}

.o-laitela-run-button--large {
    width: 46rem;
    height: 100%;
}

.o-laitela-matter-amount {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.c-dark-matter-dimension-container {
    display: flex;
    flex-direction: column;
    width: 51rem;
    height: 15rem;
    color: var(--color-laitela--accent);
    background: url(../images/upgrades/laitela-light.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid #888888;
    box-shadow: 0 0 1rem #000000 inset,0 0 0 0.3rem #888888 inset;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: auto;
    margin-bottom: 1rem;
    padding: 0.5rem;
}
.s-base--dark .c-dark-matter-dimension-container,
.s-base--dark .o-laitela-run-button,
.s-base--dark .l-laitela-annihilation-container,
.s-base--dark .c-laitela-singularity-container{
    background: url(../images/upgrades/laitela.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    background-position: center;
}
.o-dark-matter-dimension-amount {
    font-size: 1.8rem;
    line-height: 1.1;
    font-weight: bold;
    font-family: Cambria;
    border-bottom: 0.1rem solid;
    border-top: 0.1rem solid;
    border-image: linear-gradient(90deg, transparent, gray, transparent) 1;
    background: linear-gradient(90deg, transparent, #88888844, transparent);
    margin: 0.2rem
}

.c-dark-matter-dimension-buttons {
    display: flex;
    height: 6rem;
    justify-content: space-around;
}

.o-dark-matter-dimension-button {
    width: 15rem;
    height: 5rem;
    font-family: Typewriter;
    font-size: 1.2rem;
    color: #bbbbbb;
    text-shadow: 0.1rem 0.1rem 0.3rem black, -0.1rem -0.1rem 0.3rem black;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    --border: #999999;
    box-shadow:0 0 1rem black inset,var(--border) inset 0px 0px 0px 2px;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    border-radius: var(--var-border-radius, 0.5rem);
    margin-bottom: 1rem;
    transition-duration: 0.15s;
    background-position: center;
    --bg:url(../images/upgrades/bought.png)
}
.s-base--dark .o-dark-matter-dimension-button {
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    --border: #777777;
}
.o-dark-matter-dimension-button:hover {
    color:white;
    --bg-dark: var(--leg-bg-hover);
}
.o-dark-matter-dimension-button--available{
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-laitela--base), -0.1rem -0.1rem 0.3rem var(--color-laitela--base);
    color: var(--color-laitela--accent);
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    border-color: var(--color-laitela--accent);
    box-shadow: 0 0 0.5rem 0.1rem inset, 0 0 0.3rem 0;
    cursor: pointer;
}
.s-base--dark .o-dark-matter-dimension-button--available {
    --bg-dark: #252525;
    --bg-bright: #121212;
}
.o-dark-matter-dimension-button--available:hover {
    color: var(--color-laitela--accent);
    --bg-dark: #888888;
}
.o-dark-matter-dimension-button--accent,
.s-base--dark .o-dark-matter-dimension-button--accent {
    --bg-dark: var(--color-laitela--base);
    --bg-bright: var(--color-laitela--accent);
    box-shadow: 0 0 0.5rem 0.3rem inset, 0 0 0.5rem 0;
    animation: a-unstable 20s linear infinite;
    --bg:url(../images/upgrades/button-continuum.png);
}

@keyframes a-laitela-flash {
    0% {
        color: var(--color-laitela--base);
        background-image: url(../images/upgrades/button-continuum.png);
        background: var(--color-laitela--accent);
    }

    50% {
        color: var(--color-laitela--accent);
        background-image: url(../images/upgrades/button-continuum.png);
        background: var(--color-laitela--base);
    }

    100% {
        color: var(--color-laitela--base);
        background-image: url(../images/upgrades/button-continuum.png);
        background: var(--color-laitela--accent);
    }
}

.o-dark-matter-dimension-button--ascend:hover,
.s-base--dark .o-dark-matter-dimension-button--ascend:hover {
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-laitela--accent), -0.1rem -0.1rem 0.3rem var(--color-laitela--accent);
    color:var(--color-laitela--base);
    --bg-dark: var(--color-laitela--accent);
    --bg-bright: var(--color-laitela--base);
}

@keyframes a-laitela-flash {
    0% {
        color: black;
        background: white;
    }

    50% {
        color: white;
        background: black;
    }

    100% {
        color: black;
        background: white;
    }
}

.l-laitela-mechanics-container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
}

.c-laitela-milestone {
    display: flex;
    flex-direction: column;
    width: 21rem;
    height: 16%;
    position: relative;
    z-index: 0;
    justify-content: center;
    color: var(--color-laitela--accent);
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-laitela--base), -0.1rem -0.1rem 0.3rem var(--color-laitela--base);
    background: url(../images/upgrades/laitela-light.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    background-position: center;
    border: 0.1rem solid var(--border);
    box-shadow: 0 0 1rem #000000 inset, var(--border) inset 0px 0px 0px 3px;
    --border:#808080;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: 1rem 0 0;
    padding: 0.6rem;
}
.c-laitela-milestone.c-laitela-milestone__main {
    --color-laitela--base:#adadff;
    --border:var(--color-celestials)
}
.c-laitela-milestone.c-laitela-milestone__lai {
    --color-laitela--base:#ff8a8a;
    --border: #bb6c6c;
}
.s-base--dark .c-laitela-milestone.c-laitela-milestone__main {
    --color-laitela--base:#2b2b65
}
.s-base--dark .c-laitela-milestone.c-laitela-milestone__lai {
    --color-laitela--base:#612f2f
}
.s-base--dark .c-laitela-milestone {
    background: url(../images/upgrades/laitela.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    background-position: center;
}
.c-laitela-milestone > span {
    display: flex;
    flex-direction: column;
    height: 100%;
    justify-content: space-around;
}

.c-laitela-milestone__progress {
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
}

.c-laitela-milestone--bar-border-fix {
    width: calc(100% + 0.2rem);
    height: calc(100% + 0.2rem);
    position: absolute;
    z-index: 1;
    color: var(--color-laitela--accent);
    border: var(--var-border-width, 0.1rem) solid var(--border);
    box-shadow: 0 0 1rem #000000 inset, var(--border) inset 0px 0px 0px 3px;
    --border:#808080;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: -0.7rem;
}
.c-laitela-milestone__main .c-laitela-milestone--bar-border-fix {
    --border:var(--color-celestials)
}
.c-laitela-milestone__lai .c-laitela-milestone--bar-border-fix {
    --border: #bb6c6c;
}
.l-singularity-milestone-modal-container {
    box-shadow: none;
}

.c-laitela-milestone-mask {
    z-index: 0;
    background: white;
    mix-blend-mode: difference;
    border-radius: var(--var-border-radius, 0.5rem) 0 0 var(--var-border-radius, 0.5rem);
}
/*.c-laitela-milestone__main .c-laitela-milestone-mask{
    background: #fffab1;
}
.c-laitela-milestone__lai .c-laitela-milestone-mask{
    background: #b3e9ff;
}*/
.c-laitela-milestone--completed {
    width: 18.8rem;
    height: 20.2rem;
    top: -1rem;
    left: 1rem;
    background-color: transparent;
    background-image: url("../images/laitela-icon.svg");
    background-position: center;
    background-repeat: repeat-y;
    transform: rotate(90deg);
    filter: brightness(15%);
}

.c-laitela-singularity-container {
    display: flex;
    width: 98rem;
    justify-content: space-around;
    align-items: center;
    color: var(--color-laitela--accent);
    background: url(../images/upgrades/laitela-light.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid #888888;
    box-shadow: 0 0 1rem #000000 inset,#888888 inset 0px 0px 0px 3px;
    border-radius: var(--var-border-radius, 0.5rem);
    margin-bottom: 1rem;
    padding: 1rem;
}

.c-laitela-singularity {
    width: 40rem;
    height: 11rem;
    color: black;
    --stars:url(../images/celestials/laitela-sing-bg.png),url(../images/celestials/laitela-sing-bg-2.png);
    background: var(--stars),linear-gradient(var(--bg-bright),var(--bg-dark) var(--distance));
    animation:a-sing-button 60s infinite linear;
    --bg-bright: white;
    --bg-dark: #888888;
    --distance: 400%;
    text-shadow: -0.1rem -0.1rem 0.3rem white, 0.1rem 0.1rem 0.3rem white;
    box-shadow: 0 0 1rem inset , 0 0 1rem;
    border: var(--var-border-width, 0.1rem) solid var(--color-laitela--accent);
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 2rem;
    transition-duration: 0.15s;
    overflow:hidden;
    position: relative;
}
@keyframes a-sing-button {
    0%{background-position: 0 0, 0 0, 0 0;}
    100%{background-position: -504px 1008px, -504px -1008px, 0 0;}
}
.c-laitela-singularity h2 {
    font-family: Typewriter;
    font-size: 1.5rem;
    margin: 0;
}

.c-laitela-singularity--active {
    cursor: pointer;
}

.c-laitela-singularity--active:hover {
    --distance: 150%;
    box-shadow: 0 0 1rem inset, 0 0 2rem var(--color-text);
}

.c-laitela-singularity__cap-control {
    width: 20rem;
    font-family: Typewriter;
    font-size: 1.1rem;
    color: #bbbbbb;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: var(--leg-bg-dark);
    --bg-bright: var(--leg-bg-bright);
    --border: #999999;
    text-shadow: var(--text-shadow);
    box-shadow: 0 0 1rem black inset, var(--border) inset 0 0 0 0.2rem;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    border-radius: var(--var-border-radius, 0.5rem);
    margin-bottom: 1rem;
    padding: 1rem;
    transition-duration: 0.15s;
    --bg: url(../images/upgrades/button-dark.png);
    background-position: center;
}
.s-base--dark .c-laitela-singularity__cap-control {
    --bg-dark: #252525;
    --bg-bright: #444444;
    --border: #777777;
}
.c-laitela-singularity__cap-control:hover {
    color: white;
    --bg-dark: var(--leg-bg-hover);
}
.c-laitela-singularity__cap-control--available {
    color: var(--color-laitela--accent);
    box-shadow: 0 0 0.5rem inset;
    --border: var(--color-laitela--accent);
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    cursor: pointer;
}
.s-base--dark .c-laitela-singularity__cap-control--available {
    --bg-dark: #252525;
    --bg-bright: #121212;
}
.c-laitela-singularity__cap-control--available:hover {
    color: var(--color-laitela--accent);
    --bg-dark: #888888;
}

.l-singularity-milestone-modal {
    height: 60rem;
}

.l-singularity-milestone-modal-container-outer {
    overflow-x: hidden;
    overflow-y: scroll;
    height: 50rem;
    background: linear-gradient(transparent,transparent),linear-gradient(transparent,transparent);
    border: 0.3rem solid;
    border-image: var(--leg-border) 3;
    box-shadow: 0 0 2rem inset black;
    border-radius: var(--var-border-radius,0.5rem);
}

.l-singularity-milestone-modal-container-outer::-webkit-scrollbar {
    width: 1rem;
}

.l-singularity-milestone-modal-container-outer::-webkit-scrollbar-thumb {
    border: none;
}

.s-base--metro .l-singularity-milestone-modal-container-outer::-webkit-scrollbar-thumb {
    border-radius: 0;
}

.l-singularity-milestone-modal-container-inner {
    display: flex;
    flex-wrap: wrap;
    width: 111rem;
    height: 120rem;
    justify-content: space-evenly;
    padding-bottom: 2rem;
}

.l-singularity-milestone-modal-container-inner .c-laitela-milestone {
    height: 19rem;
}

.l-singularity-milestone-sort-container {
    display: flex;
    flex-direction: row;
    position: relative;
    left: -0.5rem;
    border: 0.1rem solid var(--color-laitela--accent);
    border-radius: var(--var-border-radius, 0.6rem);
    margin: 1rem 0 0 1rem;
    padding: 1rem 0.5rem;
}

.c-singularity-milestone-modal-sort-button {
    width: 26.5rem;
    height: 6rem;
    font-family: Typewriter, serif;
    font-size: 1.3rem;
    font-weight: bold;
    color: var(--color-laitela--accent);
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    border-radius: var(--var-border-radius, 0.5rem);
    text-shadow: var(--text-shadow);
    box-shadow: 0 0 1rem black inset, var(--border) inset 0 0 0 0.2rem;
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    --border: #888888;
    margin: 0 0.5rem;
    transition-duration: 0.15s;
    --bg: url(../images/upgrades/button-light.png);
    cursor: pointer;
}

.c-singularity-milestone-modal-sort-button:hover {
    --bg-bright: #dddddd;
    --bg-dark: #888888;
}
.s-base--dark .c-singularity-milestone-modal-sort-button {
    --bg-dark: #333333;
    --bg-bright: #181818;
    --border: #888888;
}
.s-base--dark .c-singularity-milestone-modal-sort-button:hover {
    --bg-bright: #181818;
    --bg-dark: #888888;
}
.o-laitela-singularity-modal-button {
    width: 21rem;
    height: 4%;
    font-weight: bold;
    color: var(--color-laitela--accent);
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-laitela--base), -0.1rem -0.1rem 0.3rem var(--color-laitela--base);
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    border: var(--var-border-width, 0.1rem) solid #888888;
    border-radius: var(--var-border-radius, 0.5rem);
    box-shadow: 0 0 1rem black inset,#888888 inset 0px 0px 0px 2px;
    margin: 0;
    padding: 0.6rem;
    transition-duration: 0.15s;
    cursor: pointer;
    --bg:url(../images/upgrades/bought.png);
    background-position: center;
}
.s-base--dark .o-laitela-singularity-modal-button {
    --bg-dark: #333333;
    --bg-bright: #181818;
}
.o-laitela-singularity-modal-button:hover {
    --bg-dark: #888888;
}
.o-dark-matter-dimension-button--ascend,
.s-base--dark .o-dark-matter-dimension-button--ascend {
    text-shadow: 0.1rem 0.1rem 0.3rem var(--color-laitela--base), -0.1rem -0.1rem 0.3rem var(--color-laitela--base);
    color:var(--color-laitela--accent);
    background: url(../images/upgrades/button-continuum.png), linear-gradient(90deg, var(--bg-bright) -20%,var(--bg-dark) 40% 60%,var(--bg-bright) 120%);
    border-color: var(--color-laitela--accent);
    box-shadow: 0 0 0.5rem 0.1rem inset, 0 0 0.3rem 0;
    --bg-dark: var(--color-laitela--base);
    --bg-bright: var(--color-laitela--accent);
    background-position: center;
    animation: a-unstable 20s linear infinite;
    cursor: pointer;
}
.o-laitela-singularity-locked {
    width: 22rem;
    height: 4%;
    font-size: 20px;
    font-weight: bold;
    color: var(--color-laitela--accent);
    background: var(--color-laitela--base);
    border: var(--var-border-width, 0.2rem) solid var(--color-laitela--accent);
    border-radius: var(--var-border-radius, 0.5rem);
    margin: 0;
    padding: 0.6rem;
    padding-top: 10rem;
}

.c-laitela-next-milestones {
    display: flex;
    flex-direction: column;
    height: 84rem;
    margin-left: 1rem;
}

@keyframes a-dark-energy-glow {
    0% {
        box-shadow: 0 0 0 rgb(53, 10, 53);
    }

    50% {
        box-shadow: 0 0 5px rgb(53, 10, 53);
    }

    100% {
        box-shadow: 0 0 0 rgb(53, 10, 53);
    }
}

.o-laitela-run-button__icon {
    width: 12rem;
    height: 12rem;
    align-items: center;
    background-color: black;
    background-image: url("../images/laitela-icon.svg");
    background-position: center;
    background-repeat: repeat-y;
    background-size: 4.95rem;
    border: var(--var-border-width, 0.4rem) solid var(--color-laitela--accent);
    border-radius: 50%;
    margin: 1.5rem auto;
    transition-duration: 0.2s;
    animation: a-laitela-run-button__icon--scroll 15s infinite linear;
}

.o-laitela-run-button__icon:hover {
    background-color: white;
    background-image: url("../images/laitela-icon-dark.svg");
}

.o-laitela-run-button__icon--running {
    animation: a-laitela-run-button__icon--scroll 5s infinite linear;
}

@keyframes a-laitela-run-button__icon--scroll {
    0% {
        background-position-y: 0;
    }

    100% {
        background-position-y: 24rem;
    }
}

.l-laitela-annihilation-container {
    width: 51rem;
    height: 20rem;
    font-family: Typewriter, serif;
    font-size: 1.2rem;
    color: var(--color-laitela--accent);
    background: url(../images/upgrades/laitela-light.png),linear-gradient(transparent,var(--color-laitela--base)),var(--leg-base);
    border: var(--var-border-width, 0.1rem) solid #888888;
    box-shadow: 0 0 1rem black inset,#888888 inset 0 0 0 0.3rem;
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 1rem;
}
.l-laitela-annihilation-button {
    width: 35rem;
    height: 3rem;
    font-family: Cambria;
    font-size: 1.5rem;
    color: #bbbbbb;
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    --bg-dark: #353535;
    --bg-bright: #666666;
    --border: #999999;
    box-shadow: 0 0 1rem black inset,var(--border) inset 0px 0px 0px 2px;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 0.5rem;
    background-position: center;
    --bg:url(../images/upgrades/bought.png);
    transition-duration: 0.15s;
}
.s-base--dark .l-laitela-annihilation-button {
    --bg-dark: #252525;
    --bg-bright: #444444;
    --border: #777777;
}
.l-laitela-annihilation-button:hover {
    color: white;
    --bg-dark: var(--leg-bg-hover);
}
.c-laitela-annihilation-button {
    transition-duration: 0.3s;
    color: var(--color-laitela--accent);
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    cursor: pointer;
}
.s-base--dark .c-laitela-annihilation-button {
    --bg-dark: #333333;
    --bg-bright: #181818;
}
.c-laitela-annihilation-button h2 {
    color: inherit;
}

.c-laitela-annihilation-button b {
    color: inherit;
}

.c-laitela-annihilation-button:hover {
    --bg-dark: #888888;
    /* h2 color overrides this */
}

.c-laitela-annihilation-input {
    border-color: var(--color-laitela--accent);
}

.c-laitela-automation-toggle {
    width: 22rem;
    height: 3rem;
    font-family: Typewriter;
    font-size: 1.1rem;
    font-weight: bold;
    color: var(--color-laitela--accent);
    background: var(--bg), linear-gradient(var(--bg-bright),var(--bg-dark));
    background-position: center;
    border: var(--var-border-width, 0.1rem) solid var(--border);
    text-shadow: var(--text-shadow);
    box-shadow: 0 0 1rem black inset, var(--border) inset 0 0 0 0.2rem;
    --bg-dark: #ffffff;
    --bg-bright: #dddddd;
    --border:#888888;
    border-radius: var(--var-border-radius, 0.5rem);
    padding: 0.5rem;
    transition-duration: 0.15s;
    cursor: pointer;
}
.s-base--dark .c-laitela-automation-toggle {
    --bg-dark: #333333;
    --bg-bright: #181818;
    --border:#888888;
}
.c-laitela-automation-toggle:hover {
    color: var(--color-laitela--base);
    --bg-bright: #dddddd;
    --bg-dark: #888888;
}
.s-base--dark .c-laitela-automation-toggle:hover {
    color: var(--color-laitela--accent);
    --bg-bright: #181818;
    --bg-dark: #888888;
}

.s-base--metro .c-laitela-automation-toggle {
    box-shadow: none;
}

/* #endregion laitela tab */
/* #region celestial navigation tab */
.o-celestial-nav__hoverable .tooltiptext {
    display: none;
}

.o-celestial-nav__hoverable:hover .tooltiptext, .o-celestial-nav__force-hover .tooltiptext {
    display: block;
}

.c-celestial-nav__test-ring {
    fill: blue;
}

.c-celestial-nav__test-ring:hover {
    stroke: black;
    stroke-width: 2;
    fill: red;
}

.c-celestial-nav__test-complete {
    fill: #5151ec;
}

.c-celestial-nav__effarig {
    fill: #d13737;
}

.c-celestial-nav__test-incomplete {
    fill: #888888;
}

.c-celestial-nav__drained-rift {
    fill: #111111;
}

.o-celestial-nav__symbol {
    text-anchor: middle;
    font-family: "Font Awesome", Typewriter;
    font-weight: bold;
}

.o-celestial-nav__legend-arrow {
    stroke: #cccccc;
    stroke-width: 2;
    stroke-linecap: butt;
    fill: none;
}

.o-celestial-nav__hoverable:hover .o-celestial-nav__legend-arrow {
    stroke: #ffffff;
}

.o-celestial-nav__legend-outline {
    stroke: none;
    stroke-width: 2;
    stroke-linecap: butt;
    fill: none;
}

.o-celestial-nav__hoverable:hover .o-celestial-nav__legend-outline {
    stroke: #ffffff;
}

.o-celestial-nav__node-overlay {
    stroke: transparent;
    stroke-width: 12;
    fill: transparent;
}

.o-celestial-nav__legend-text {
    fill: rgb(238, 135, 17);
    font-weight: bold;
    font-style: italic;
    text-decoration: underline;
    text-shadow: 0 0 0.1rem black, 0 0 0.1rem black, 0 0 1rem black, 0 0 1rem black;
}

.o-celestial-nav__hoverable:hover .o-celestial-nav__legend-text {
    fill: rgb(197, 112, 14);
    font-style: normal;
    text-decoration: none;
}

.o-no-mouse {
    pointer-events: none;
    -webkit-user-select: none;
    user-select: none;
}

.tooltiptext {
    pointer-events: none;
    -webkit-user-select: none;
    user-select: none;
}

.l-celestial-navigation {
    text-shadow: none;
    border: var(--var-border-width, 1.2rem) solid;
    box-sizing: content-box;
    border-image: url(../images/frames/celestial.png) 12 round;
    border-radius: var(--var-border-radius, 0.5rem);
    margin: auto;
    background: url(../images/celestials/celnav-bg.png);
}

/*Celestial Realities*/

.c-celestial-reality-container{
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -2;
    opacity: 0;
    transition: 0.35s;
    background:none;
    background-image:none
}
.c-celestial-reality--teresa {
    opacity: 0.5;
    background-image: url(../images/celestials/reality_teresa-top-front.png),
    url(../images/celestials/reality_teresa-top-back.png),
    url(../images/celestials/reality_teresa-bottom-front.png),
    url(../images/celestials/reality_teresa-bottom-back.png);
    background-repeat: repeat no-repeat;
    animation: a-reality-teresa 30s infinite linear;;
}
.s-base--dark .c-celestial-reality--teresa {
    opacity: 0.625;
}
@keyframes a-reality-teresa {
    from{background-position: 1536px 0px,768px 0px,-1536px 100%,-768px 100%}
    to{background-position: 0px 0px,0px 0px, 0px 100%,0px 100%}
}
.c-celestial-reality--effarig {
    opacity: 0.375;
    background: url(../images/celestials/reality_effarig-pattern.gif),
    url(../images/celestials/reality_effarig-pattern.gif),
    linear-gradient(var(--color-effarig--base) -100%,transparent,var(--color-effarig--base) 200%);
    animation:a-reality-giygas-position 60s infinite linear,a-reality-giygas-size 30s infinite ease-in-out,a-reality-giygas-glow 20s infinite ease;
}
.s-base--dark .c-celestial-reality--effarig {
    opacity: 0.5;
}
@keyframes a-reality-giygas-size {
    0%{background-size: 384px 384px,384px 384px, 100% 100%;}
    50%{background-size: 384px 256px,256px 384px, 100% 150%;}
    100%{background-size: 384px 384px,384px 384px, 100% 100%;}
}
@keyframes a-reality-giygas-position {
    0%{background-position: 3840px 3840px,3840px 3840px, center center;}
    100%{background-position: 0px 0px, 0px 0px, center center;}
}
.c-celestial-reality--nameless {
    opacity: 0.5;
    background-image: url(../images/celestials/reality_nameless-left-front.png),
    url(../images/celestials/reality_nameless-right-front.png),
    url(../images/celestials/reality_nameless-top.png),
    url(../images/celestials/reality_nameless-bottom.png),
    url(../images/celestials/reality_nameless-left-back.png),
    url(../images/celestials/reality_nameless-right-back.png);
    background-repeat: no-repeat repeat, no-repeat repeat, repeat no-repeat, repeat no-repeat, no-repeat repeat, no-repeat repeat;
    animation: a-reality-nameless 129s infinite linear;
}
@keyframes a-reality-nameless {
    from{background-position: 0 1536px,100% -1536px,1536px 0px,-1536px 100%,0px 768px,100% -768px}
    to{background-position: 0px 0px,100% 0px, 0px 0px, 0px 100%,0px 0px ,100% 0px}
}
.c-celestial-reality--v {
    opacity: 0.375;
    background-image: url(../images/celestials/reality_v-pattern_2.png),
    url(../images/celestials/reality_v-pattern_1.png),
    linear-gradient(transparent 50%,var(--color-v--base) 100%);
    animation:a-reality-v 90s infinite linear;
}
.s-base--dark .c-celestial-reality--v {
    background:linear-gradient(transparent 50%,var(--color-v--base) 250%);
    background-image: url(../images/celestials/reality_v-pattern_2.png),
    url(../images/celestials/reality_v-pattern_1.png);
}
@keyframes a-reality-v {
   0%{background-position: 0 0, 0 0, 0 0;}
   100%{background-position: -240px -408px, 120px 204px, 0 0;}
}
.c-celestial-reality--ra {
    opacity: 0.5;
    box-shadow: inset 0 0 10rem 0.2rem var(--color-ra--base);
    background-image: url(../images/celestials/reality_ra-stars_min-2.png),
    url(../images/celestials/reality_ra-stars_min-1.png);
    animation:a-reality-ra-glow 5s infinite ease, a-reality-ra-x 25s infinite linear, a-reality-ra-y 65s infinite ease-in-out;
}
@keyframes a-reality-ra-glow {
    0%{box-shadow: inset 0 0 10rem 0.5rem var(--color-ra--base);}
    50%{box-shadow: inset 0 0 15rem -0.5rem var(--color-ra--base);}
    100%{box-shadow: inset 0 0 10rem 0.5rem var(--color-ra--base);}
}
@keyframes a-reality-ra-x {
    0%{background-position-x: 0, 0;}
    100%{background-position-x: -51.2rem, 51.2rem;}
}
@keyframes a-reality-ra-y {
    0%{background-position-y: 0, 0;}
    50%{background-position-y: -51.2rem, 51.2rem;}
    100%{background-position-y: 0, 0;}
}
.c-celestial-reality--laitela {
    opacity: 0.5;
    box-shadow: inset 0 0 10rem black;
    background: linear-gradient(#000000,transparent 25%,transparent 75%,#000000), 
    url(../images/celestials/reality_laitela-1.png),
    url(../images/celestials/reality_laitela_2.png);
    animation:a-reality-laitela-chains 30s infinite linear,a-reality-laitela-glow 10s infinite;
}
.s-base--dark .c-celestial-reality--laitela {
    opacity: 0.65;
    background: linear-gradient(#000000,transparent 20%,transparent 25%,#000000),
    url(../images/celestials/reality_laitela-dark-1.png),
    url(../images/celestials/reality_laitela-dark-2.png);
}
@keyframes a-reality-laitela-chains {
    0%{background-position: 0 0, 0 0, 0 0;}
    100%{background-position: 0 0, -512px 1008px, -512px -1008px;}
}
 @keyframes a-reality-laitela-glow {
    0%{box-shadow: inset 0 0 10rem black;}
    50%{box-shadow: inset 0 0 5rem 1rem black;}
    100%{box-shadow: inset 0 0 10rem black;}
 }
.c-celestial-reality--pelle {
    opacity: 0.5;
    background: 
    linear-gradient(0deg,#888888,#555 20%, transparent 25%),
    url(../images/celestials/reality_pelle-1.png),
    url(../images/celestials/reality_pelle-2.png),
    linear-gradient(0deg,#888 25%,#666666aa);
    animation:a-reality-doom 240s infinite linear;
}
.s-base--dark .c-celestial-reality--pelle {
    opacity: 0.4;
}
@keyframes a-reality-doom {
    0%{background-position: 0 0, 0 0,0 0, 0 0;}
    100%{background-position: 0 0, -1024px 4096px,1024px 2048px, 0 0;}
}
.c-celestial-reality--galgen {
    opacity: 0.5;
    --fire-spread: 100vh;
    --ground-height: 20%;
    background:
    linear-gradient(0deg, #888888, #555 calc(var(--ground-height) - 5%),
    var(--color-pelle--secondary) var(--ground-height),
    transparent calc(var(--ground-height) + 1%)),
    url(../images/celestials/reality_galgen_fire-overlay.png),
    url(../images/celestials/reality_galgen_galaxies-1.png),
    url(../images/celestials/reality_galgen_galaxies-2.png);
    animation: a-galgen-fire 60s infinite linear;
    background-repeat: repeat no-repeat, repeat no-repeat, repeat repeat, repeat repeat;
    background-size: 100% 100%, 100vh, auto, auto;
    background-position-y: 0, var(--fire-spread), 0, 0;
}
@keyframes a-galgen-fire {
    0%{background-position: 0 0, 0 var(--fire-spread), 0 0, 0 0;}
    100%{background-position: 0 0, -1000vh var(--fire-spread), -2048px -1024px, -1024px 1024px;}
}
